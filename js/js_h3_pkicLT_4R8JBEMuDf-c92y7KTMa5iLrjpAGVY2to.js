/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(require('jquery')):typeof define==='function'&&define.amd?define(['jquery'],factory):(global=global||self,global.Site=factory(global.jQuery));}(this,function($){'use strict';$=$&&$.hasOwnProperty('default')?$['default']:$;if(window.NodeList&&!NodeList.prototype.forEach)NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(var i=0;i<this.length;i++)callback.call(thisArg,this[i],i,this);};if(window.Element&&!Element.prototype.closest)Element.prototype.closest=function(s){var matches=(this.document||this.ownerDocument).querySelectorAll(s),i,el=this;do{i=matches.length;while(--i>=0&&matches.item(i)!==el){}}while((i<0)&&(el=el.parentElement));return el;};if(typeof Object.assign!=='function')Object.defineProperty(Object,"assign",{value:function assign(target,varArgs){var arguments$1=arguments;if(target===null||target===undefined)throw new TypeError('Cannot convert undefined or null to object');var to=Object(target);for(var index=1;index<arguments.length;index++){var nextSource=arguments$1[index];if(nextSource!==null&&nextSource!==undefined)for(var nextKey in nextSource)if(Object.prototype.hasOwnProperty.call(nextSource,nextKey))to[nextKey]=nextSource[nextKey];}return to;},writable:true,configurable:true});var commonjsGlobal=typeof globalThis!=='undefined'?globalThis:typeof window!=='undefined'?window:typeof global!=='undefined'?global:typeof self!=='undefined'?self:{};function commonjsRequire(){throw new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');}function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}var bows_min=createCommonjsModule(function(module,exports){!function(e){module.exports=e();;}(function(){return function e(n,o,r){function t(f,d){if(!o[f]){if(!n[f]){var u="function"==typeof commonjsRequire&&commonjsRequire;if(!d&&u)return u(f,!0);if(i)return i(f,!0);var a=new Error("Cannot find module '"+f+"'");throw a.code="MODULE_NOT_FOUND",a;}var s=o[f]={exports:{}};n[f][0].call(s.exports,function(e){var o=n[f][1][e];return t(o||e);},s,s.exports,e,n,o,r);}return o[f].exports;}for(var i="function"==typeof commonjsRequire&&commonjsRequire,f=0;f<r.length;f++)t(r[f]);return t;}({1:[function(e,n,o){(function(o){(function(){var r=function(){return s+=.618033988749895,360*(s%=1);},t="undefined"==typeof window,i=!t&&function(){var e;try{e=window.localStorage;}catch(e){}return e;}(),f=i&&i.andlogKey?i.andlogKey:"debug",d=!(!i||!i[f])&&i[f],u=e("andlog"),a=Function.prototype.bind,s=0,c=!0,l="|",p=15,w=function(){},g=i&&i.debugColors?"false"!==i.debugColors:function(){if("undefined"==typeof window||"undefined"==typeof navigator)return !1;var e,n=!!window.chrome,r=/firefox/i.test(navigator.userAgent),t=o&&o.versions&&o.versions.electron;if(r){var i=navigator.userAgent.match(/Firefox\/(\d+\.\d+)/);i&&i[1]&&Number(i[1])&&(e=Number(i[1]));}return n||e>=31||t;}(),v=null,h=null,y=!1,m={};d&&"!"===d[0]&&"/"===d[1]&&(y=!0,d=d.slice(1)),h=d&&"/"===d[0]&&new RegExp(d.substring(1,d.length-1));for(var b=["log","debug","warn","error","info"],x=0,E=b.length;x<E;x++)w[b[x]]=w;v=function(e){if(!i)return w;var n,o,t;if(c?(n=e.slice(0,p),n+=Array(p+3-n.length).join(" ")+l):n=e+Array(3).join(" ")+l,h){var f=e.match(h);if(!y&&!f||y&&f)return w;}if(!a)return w;var d=[u];if(g){m[e]||(m[e]=r());var s=m[e];n="%c"+n,o="color: hsl("+s+",99%,40%); font-weight: bold",d.push(n,o);}else d.push(n);if(arguments.length>1){var v=Array.prototype.slice.call(arguments,1);d=d.concat(v);}return t=a.apply(u.log,d),b.forEach(function(e){t[e]=a.apply(u[e]||t,d);}),t;},v.config=function(e){e.padLength&&(p=e.padLength),"boolean"==typeof e.padding&&(c=e.padding),e.separator?l=e.separator:!1!==e.separator&&""!==e.separator||(l="");},void 0!==n?n.exports=v:window.bows=v;}).call();}).call(this,e("_process"));},{_process:3,andlog:2}],2:[function(e,n,o){!function(){var e="undefined"==typeof window,r=!e&&function(){var e;try{e=window.localStorage;}catch(e){}return e;}(),t={};if(e||!r)return void (n.exports=console);var i=r.andlogKey||"debug";if(r&&r[i]&&window.console)t=window.console;else for(var f="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),d=f.length,u=function(){};d--;)t[f[d]]=u;void 0!==o?n.exports=t:window.console=t;}();},{}],3:[function(e,n,o){function r(){}var t=n.exports={};t.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e);};if(n){var o=[];return window.addEventListener("message",function(e){var n=e.source;if((n===window||null===n)&&"process-tick"===e.data&&(e.stopPropagation(),o.length>0))o.shift()();},!0),function(e){o.push(e),window.postMessage("process-tick","*");};}return function(e){setTimeout(e,0);};}(),t.title="browser",t.browser=!0,t.env={},t.argv=[],t.on=r,t.addListener=r,t.once=r,t.off=r,t.removeListener=r,t.removeAllListeners=r,t.emit=r,t.binding=function(e){throw new Error("process.binding is not supported");},t.cwd=function(){return "/";},t.chdir=function(e){throw new Error("process.chdir is not supported");};},{}]},{},[1])(1);});});function fitvid(selectors){var config={selectors:['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','object','embed','video']};if(selectors){if(!Array.isArray(selectors))selectors=[selectors];config.selectors=config.selectors.concat(opts.selectors).filter(function(val,index,arr){return arr.indexOf(val)===index;});}var nodes=Array.prototype.slice.call(document.querySelectorAll(config.selectors.join(',')));if(nodes.length>0)nodes.forEach(function(node){if(node.getAttribute('data-fitvid'))return;var wrapper=document.createElement('div');var computed=window.getComputedStyle(node);var ratio=((computed.height>0&&computed.width>0)?computed.height/computed.width:9/16)*100;wrapper.className='fitvid';wrapper.style.width='100%';wrapper.style.height=0;wrapper.style.position='relative';wrapper.style.paddingTop=ratio+"%";node.style.position='absolute';node.style.top=0;node.style.left=0;node.style.width='100%';node.style.height='100%';node.setAttribute('data-fitvid',ratio);node.parentNode.insertBefore(wrapper,node);wrapper.appendChild(node);});return nodes;}var log=bows_min('keyboardFocus');var keyboardFocusClass='keyboard--focus';var keyboardFocus=false;function init(){window.addEventListener('keydown',function(e){if(e.defaultPrevented||keyboardFocus)return;if('Tab'===e.key||'Enter'===e.key||e.altKey){keyboardFocus=true;document.body.classList.add(keyboardFocusClass);log('site.keyboardFocus',keyboardFocus);}});window.addEventListener('mousedown',function(e){if(e.defaultPrevented||!keyboardFocus)return;keyboardFocus=false;document.body.classList.remove(keyboardFocusClass);log('site.keyboardFocus',keyboardFocus);});}var keyboardFocus$1={init};var sizeResize={xlarge:[],large:[],medium:[],small:[],any:[],body:document.body,small_max:640,medium_max:1024,large_max:1200,pause:100,currentSize:'',previousSize:''};function addXlarge(func,params){sizeResize.xlarge.push([func,params]);}function addLarge(func,params){sizeResize.large.push([func,params]);}function addMedium(func,params){sizeResize.medium.push([func,params]);}function addSmall(func,params){sizeResize.small.push([func,params]);}function addAny(func,params){sizeResize.any.push([func,params]);}function getWidth(){return sizeResize.body.clientWidth;}function getCurrent(width){sizeResize.previousSize=sizeResize.currentSize;if(width<=sizeResize.small_max)sizeResize.currentSize='small';else if(width>sizeResize.small_max&&width<=sizeResize.medium_max)sizeResize.currentSize='medium';else if(width>sizeResize.medium_max&&width<=sizeResize.large_max)sizeResize.currentSize='large';else sizeResize.currentSize='xlarge';return sizeResize.currentSize;}function runFunctions(){sizeResize.body.classList.remove('size--xlarge');sizeResize.body.classList.remove('size--large');sizeResize.body.classList.remove('size--medium');sizeResize.body.classList.remove('size--small');if(sizeResize.currentSize==='small'){sizeResize.body.classList.add('size--small');for(var i=0;i<sizeResize.small.length;i++)sizeResize.small[i][0].apply(this,sizeResize.small[i][1]);}else if(sizeResize.currentSize==='medium'){sizeResize.body.classList.add('size--medium');for(var i=0;i<sizeResize.medium.length;i++)sizeResize.medium[i][0].apply(this,sizeResize.medium[i][1]);}else if(sizeResize.currentSize==='large'){sizeResize.body.classList.add('size--large');for(var i=0;i<sizeResize.large.length;i++)sizeResize.large[i][0].apply(this,sizeResize.large[i][1]);}else{if(sizeResize.currentSize==='xlarge'){sizeResize.body.classList.add('size--xlarge');for(var i=0;i<sizeResize.xlarge.length;i++)sizeResize.xlarge[i][0].apply(this,sizeResize.xlarge[i][1]);}}for(var i=0;i<sizeResize.any.length;i++)sizeResize.any[i][0].apply(this,sizeResize.any[i][1]);}function sizeCheck(){var _this=this;if(_this.getCurrent(_this.getWidth())===sizeResize.previousSize)return false;_this.runFunctions();}function init$1(){var _this=this;_this.getCurrent(_this.getWidth());_this.runFunctions();var endResizeEvent;window.onresize=function(){clearTimeout(endResizeEvent);endResizeEvent=setTimeout(function(){_this.sizeCheck();},sizeResize.pause);};}var size={init:init$1,addXlarge,addLarge,addMedium,addSmall,addAny,getWidth,getCurrent,runFunctions,sizeCheck};var OFI='bfred-it:object-fit-images';var propRegex=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g;var testImg=typeof Image==='undefined'?{style:{'object-position':1}}:new Image();var supportsObjectFit='object-fit' in testImg.style;var supportsObjectPosition='object-position' in testImg.style;var supportsOFI='background-size' in testImg.style;var supportsCurrentSrc=typeof testImg.currentSrc==='string';var nativeGetAttribute=testImg.getAttribute;var nativeSetAttribute=testImg.setAttribute;var autoModeEnabled=false;function createPlaceholder(w,h){return ("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+w+"' height='"+h+"'%3E%3C/svg%3E");}function polyfillCurrentSrc(el){if(el.srcset&&!supportsCurrentSrc&&window.picturefill){var pf=window.picturefill._;if(!el[pf.ns]||!el[pf.ns].evaled)pf.fillImg(el,{reselect:true});if(!el[pf.ns].curSrc){el[pf.ns].supported=false;pf.fillImg(el,{reselect:true});}el.currentSrc=el[pf.ns].curSrc||el.src;}}function getStyle(el){var style=getComputedStyle(el).fontFamily;var parsed;var props={};while((parsed=propRegex.exec(style))!==null)props[parsed[1]]=parsed[2];return props;}function setPlaceholder(img,width,height){var placeholder=createPlaceholder(width||1,height||0);if(nativeGetAttribute.call(img,'src')!==placeholder)nativeSetAttribute.call(img,'src',placeholder);}function onImageReady(img,callback){if(img.naturalWidth)callback(img);else setTimeout(onImageReady,100,img,callback);}function fixOne(el){var style=getStyle(el);var ofi=el[OFI];style['object-fit']=style['object-fit']||'fill';if(!ofi.img){if(style['object-fit']==='fill')return;if(!ofi.skipTest&&supportsObjectFit&&!style['object-position'])return;}if(!ofi.img){ofi.img=new Image(el.width,el.height);ofi.img.srcset=nativeGetAttribute.call(el,"data-ofi-srcset")||el.srcset;ofi.img.src=nativeGetAttribute.call(el,"data-ofi-src")||el.src;nativeSetAttribute.call(el,"data-ofi-src",el.src);if(el.srcset)nativeSetAttribute.call(el,"data-ofi-srcset",el.srcset);setPlaceholder(el,el.naturalWidth||el.width,el.naturalHeight||el.height);if(el.srcset)el.srcset='';try{keepSrcUsable(el);}catch(err){if(window.console)console.warn('https://bit.ly/ofi-old-browser');}}polyfillCurrentSrc(ofi.img);el.style.backgroundImage="url(\""+((ofi.img.currentSrc||ofi.img.src).replace(/"/g,'\\"'))+"\")";el.style.backgroundPosition=style['object-position']||'center';el.style.backgroundRepeat='no-repeat';el.style.backgroundOrigin='content-box';if(/scale-down/.test(style['object-fit']))onImageReady(ofi.img,function(){if(ofi.img.naturalWidth>el.width||ofi.img.naturalHeight>el.height)el.style.backgroundSize='contain';else el.style.backgroundSize='auto';});else el.style.backgroundSize=style['object-fit'].replace('none','auto').replace('fill','100% 100%');onImageReady(ofi.img,function(img){setPlaceholder(el,img.naturalWidth,img.naturalHeight);});}function keepSrcUsable(el){var descriptors={get:function get(prop){return el[OFI].img[prop?prop:'src'];},set:function set(value,prop){el[OFI].img[prop?prop:'src']=value;nativeSetAttribute.call(el,("data-ofi-"+prop),value);fixOne(el);return value;}};Object.defineProperty(el,'src',descriptors);Object.defineProperty(el,'currentSrc',{get:function(){return descriptors.get('currentSrc');}});Object.defineProperty(el,'srcset',{get:function(){return descriptors.get('srcset');},set:function(ss){return descriptors.set(ss,'srcset');}});}function hijackAttributes(){function getOfiImageMaybe(el,name){return el[OFI]&&el[OFI].img&&(name==='src'||name==='srcset')?el[OFI].img:el;}if(!supportsObjectPosition){HTMLImageElement.prototype.getAttribute=function(name){return nativeGetAttribute.call(getOfiImageMaybe(this,name),name);};HTMLImageElement.prototype.setAttribute=function(name,value){return nativeSetAttribute.call(getOfiImageMaybe(this,name),name,String(value));};}}function fix(imgs,opts){var startAutoMode=!autoModeEnabled&&!imgs;opts=opts||{};imgs=imgs||'img';if((supportsObjectPosition&&!opts.skipTest)||!supportsOFI)return false;if(imgs==='img')imgs=document.getElementsByTagName('img');else if(typeof imgs==='string')imgs=document.querySelectorAll(imgs);else{if(!('length' in imgs))imgs=[imgs];}for(var i=0;i<imgs.length;i++){imgs[i][OFI]=imgs[i][OFI]||{skipTest:opts.skipTest};fixOne(imgs[i]);}if(startAutoMode){document.body.addEventListener('load',function(e){if(e.target.tagName==='IMG')fix(e.target,{skipTest:opts.skipTest});},true);autoModeEnabled=true;imgs='img';}if(opts.watchMQ)window.addEventListener('resize',fix.bind(null,imgs,{skipTest:opts.skipTest}));}fix.supportsObjectFit=supportsObjectFit;fix.supportsObjectPosition=supportsObjectPosition;hijackAttributes();var ofi_commonJs=fix;var log$1=bows_min("modal");var modalBtn=document.querySelectorAll("[data-modal]");var body=document.querySelector("body");var top=document.getElementById("top");var modalOverlay=document.getElementById("modal-overlay");var focusable=top.querySelectorAll("a,button,input,select,iframe,video,audio, textarea");var current_modal="";function esc(){document.addEventListener("keydown",function(evt){evt=evt||window.event;var isEscape=false;if("key" in evt)isEscape=evt.key=="Escape"||evt.key=="Esc";else isEscape=evt.keyCode==27;if(isEscape&&body.classList.contains("modal-open"))closeModal();});}function removeFocus(){focusable.forEach(function(elm){elm.setAttribute("tabindex","-1");});}function enableFocus(){focusable.forEach(function(elm){elm.removeAttribute("tabindex");});}function closeModal(){var player=current_modal.querySelector('video');var return_focus=document.querySelector(".return_focus");current_modal.classList.remove("modal--show");if(player)player.pause();setTimeout(function(){current_modal.setAttribute("aria-hidden",true);body.classList.remove("modal-open");},250);enableFocus();return_focus.focus();return_focus.classList.remove("return_focus");}function doModal(){var player=current_modal.querySelector('video');body.classList.add("modal-open");current_modal.setAttribute("aria-hidden",false);current_modal.setAttribute("tabindex","-1");setTimeout(function(){current_modal.classList.add("modal--show");},150);focusable=top.querySelectorAll("a,button,input,select,iframe,video,audio, textarea");removeFocus();current_modal.focus();if(player)player.play();}function showModal(){var which=this.getAttribute("data-modal");current_modal=document.getElementById(which);if(current_modal!==undefined&&current_modal!==null){log$1(which);this.classList.add("return_focus");doModal();}}function init$2(){log$1("modal init");if(modalBtn){var modal_close=document.querySelectorAll(".modal__close");modal_close.forEach(function(btn){btn.addEventListener("click",closeModal);});modalBtn.forEach(function(btn){btn.addEventListener("click",showModal);});esc();}if(modalOverlay)modalOverlay.addEventListener("click",closeModal);}var modal={init:init$2};var headroom=createCommonjsModule(function(module,exports){(function(global,factory){module.exports=factory();}(commonjsGlobal,function(){function isBrowser(){return typeof window!=="undefined";}function passiveEventsSupported(){var supported=false;try{var options={get passive(){supported=true;}};window.addEventListener("test",options,options);window.removeEventListener("test",options,options);}catch(err){supported=false;}return supported;}function isSupported(){return !!(isBrowser()&&function(){}.bind&&"classList" in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame);}function isDocument(obj){return obj.nodeType===9;}function isWindow(obj){return obj&&obj.document&&isDocument(obj.document);}function windowScroller(win){var doc=win.document;var body=doc.body;var html=doc.documentElement;return {scrollHeight:function(){return Math.max(body.scrollHeight,html.scrollHeight,body.offsetHeight,html.offsetHeight,body.clientHeight,html.clientHeight);},height:function(){return win.innerHeight||html.clientHeight||body.clientHeight;},scrollY:function(){if(win.pageYOffset!==undefined)return win.pageYOffset;return (html||body.parentNode||body).scrollTop;}};}function elementScroller(element){return {scrollHeight:function(){return Math.max(element.scrollHeight,element.offsetHeight,element.clientHeight);},height:function(){return Math.max(element.offsetHeight,element.clientHeight);},scrollY:function(){return element.scrollTop;}};}function createScroller(element){return isWindow(element)?windowScroller(element):elementScroller(element);}function trackScroll(element,options,callback){var isPassiveSupported=passiveEventsSupported();var rafId;var scrolled=false;var scroller=createScroller(element);var lastScrollY=scroller.scrollY();var details={};function update(){var scrollY=Math.round(scroller.scrollY());var height=scroller.height();var scrollHeight=scroller.scrollHeight();details.scrollY=scrollY;details.lastScrollY=lastScrollY;details.direction=scrollY>lastScrollY?"down":"up";details.distance=Math.abs(scrollY-lastScrollY);details.isOutOfBounds=scrollY<0||scrollY+height>scrollHeight;details.top=scrollY<=options.offset;details.bottom=scrollY+height>=scrollHeight;details.toleranceExceeded=details.distance>options.tolerance[details.direction];callback(details);lastScrollY=scrollY;scrolled=false;}function handleScroll(){if(!scrolled){scrolled=true;rafId=requestAnimationFrame(update);}}var eventOptions=isPassiveSupported?{passive:true,capture:false}:false;element.addEventListener("scroll",handleScroll,eventOptions);update();return {destroy:function(){cancelAnimationFrame(rafId);element.removeEventListener("scroll",handleScroll,eventOptions);}};}function normalizeTolerance(t){return t===Object(t)?t:{down:t,up:t};}function Headroom(elem,options){options=options||{};Object.assign(this,Headroom.options,options);this.classes=Object.assign({},Headroom.options.classes,options.classes);this.elem=elem;this.tolerance=normalizeTolerance(this.tolerance);this.initialised=false;this.frozen=false;}Headroom.prototype={constructor:Headroom,init:function(){if(Headroom.cutsTheMustard&&!this.initialised){this.addClass("initial");this.initialised=true;setTimeout(function(self){self.scrollTracker=trackScroll(self.scroller,{offset:self.offset,tolerance:self.tolerance},self.update.bind(self));},100,this);}return this;},destroy:function(){this.initialised=false;Object.keys(this.classes).forEach(this.removeClass,this);this.scrollTracker.destroy();},unpin:function(){if(this.hasClass("pinned")||!this.hasClass("unpinned")){this.addClass("unpinned");this.removeClass("pinned");if(this.onUnpin)this.onUnpin.call(this);}},pin:function(){if(this.hasClass("unpinned")){this.addClass("pinned");this.removeClass("unpinned");if(this.onPin)this.onPin.call(this);}},freeze:function(){this.frozen=true;this.addClass("frozen");},unfreeze:function(){this.frozen=false;this.removeClass("frozen");},top:function(){if(!this.hasClass("top")){this.addClass("top");this.removeClass("notTop");if(this.onTop)this.onTop.call(this);}},notTop:function(){if(!this.hasClass("notTop")){this.addClass("notTop");this.removeClass("top");if(this.onNotTop)this.onNotTop.call(this);}},bottom:function(){if(!this.hasClass("bottom")){this.addClass("bottom");this.removeClass("notBottom");if(this.onBottom)this.onBottom.call(this);}},notBottom:function(){if(!this.hasClass("notBottom")){this.addClass("notBottom");this.removeClass("bottom");if(this.onNotBottom)this.onNotBottom.call(this);}},shouldUnpin:function(details){var scrollingDown=details.direction==="down";return scrollingDown&&!details.top&&details.toleranceExceeded;},shouldPin:function(details){var scrollingUp=details.direction==="up";return (scrollingUp&&details.toleranceExceeded)||details.top;},addClass:function(className){this.elem.classList.add.apply(this.elem.classList,this.classes[className].split(" "));},removeClass:function(className){this.elem.classList.remove.apply(this.elem.classList,this.classes[className].split(" "));},hasClass:function(className){return this.classes[className].split(" ").every(function(cls){return this.classList.contains(cls);},this.elem);},update:function(details){if(details.isOutOfBounds)return;if(this.frozen===true)return;if(details.top)this.top();else this.notTop();if(details.bottom)this.bottom();else this.notBottom();if(this.shouldUnpin(details))this.unpin();else{if(this.shouldPin(details))this.pin();}}};Headroom.options={tolerance:{up:0,down:0},offset:0,scroller:isBrowser()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}};Headroom.cutsTheMustard=isSupported();return Headroom;}));});var hoverintent=function(el,onOver,onOut){var x,y,pX,pY;var mouseOver=false;var focused=false;var h={},state=0,timer=0;var options={sensitivity:7,interval:100,timeout:0,handleFocus:false};function delay(el,e){if(timer)timer=clearTimeout(timer);state=0;return focused?undefined:onOut.call(el,e);}function tracker(e){x=e.clientX;y=e.clientY;}function compare(el,e){if(timer)timer=clearTimeout(timer);if((Math.abs(pX-x)+Math.abs(pY-y))<options.sensitivity){state=1;return focused?undefined:onOver.call(el,e);}else{pX=x;pY=y;timer=setTimeout(function(){compare(el,e);},options.interval);}}h.options=function(opt){var focusOptionChanged=opt.handleFocus!==options.handleFocus;options=Object.assign({},options,opt);if(focusOptionChanged)options.handleFocus?addFocus():removeFocus();return h;};function dispatchOver(e){mouseOver=true;if(timer)timer=clearTimeout(timer);el.removeEventListener('mousemove',tracker,false);if(state!==1){pX=e.clientX;pY=e.clientY;el.addEventListener('mousemove',tracker,false);timer=setTimeout(function(){compare(el,e);},options.interval);}return this;}function dispatchOut(e){mouseOver=false;if(timer)timer=clearTimeout(timer);el.removeEventListener('mousemove',tracker,false);if(state===1)timer=setTimeout(function(){delay(el,e);},options.timeout);return this;}function dispatchFocus(e){if(!mouseOver){focused=true;onOver.call(el,e);}}function dispatchBlur(e){if(!mouseOver&&focused){focused=false;onOut.call(el,e);}}function addFocus(){el.addEventListener('focus',dispatchFocus,false);el.addEventListener('blur',dispatchBlur,false);}function removeFocus(){el.removeEventListener('focus',dispatchFocus,false);el.removeEventListener('blur',dispatchBlur,false);}h.remove=function(){if(!el)return;el.removeEventListener('mouseover',dispatchOver,false);el.removeEventListener('mouseout',dispatchOut,false);removeFocus();};if(el){el.addEventListener('mouseover',dispatchOver,false);el.addEventListener('mouseout',dispatchOut,false);}return h;};var log$2=bows_min("overlays");function isElementInViewport(el){var rect=el.getBoundingClientRect();return (rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth));}function isAnyPartOfElementInViewport(el){var rect=el.getBoundingClientRect();var windowHeight=(window.innerHeight||document.documentElement.clientHeight);var windowWidth=(window.innerWidth||document.documentElement.clientWidth);var vertInView=(rect.top<=windowHeight)&&((rect.top+rect.height)>=0);var horInView=(rect.left<=windowWidth)&&((rect.left+rect.width)>=0);return (vertInView&&horInView);}var inViewport={isElementInViewport,isAnyPartOfElementInViewport};var alertContent=document.querySelector('.alert-content');var header=document.getElementById('header');var closeBtn=document.querySelectorAll('.alert__close');var notification=document.querySelectorAll('.alert');var body$1=document.querySelector('body');var log$3=bows_min("alerts");function alertHeight(){if(header&&alertContent)header.style.top=alertContent.offsetHeight+'px';}function closeAlert(){var currentAlert=this.closest('.alert');if(currentAlert.classList.contains('alert--emergency')===true)body$1.classList.remove('alert-emergency');log$3(currentAlert.dataset.alert);currentAlert.style.display='none';if(currentAlert.dataset.alert)localStorage.setItem(currentAlert.dataset.alert,true);setTimeout(function(){alertHeight();},100);}window.clearAlert=function(){localStorage.removeItem('emergency');localStorage.removeItem('primary');localStorage.removeItem('secondary');log$3('alerts cleared');};function init$3(){if(alertContent){alertHeight();closeBtn.forEach(function(btn){btn.addEventListener("click",closeAlert);});notification.forEach(function(notification){if(notification.dataset.alert&&localStorage.getItem(notification.dataset.alert)){notification.style.display='none';alertHeight();}else{if(notification.classList.contains('alert--emergency')===true&&body$1.classList.contains('styleguide')===false)body$1.classList.add('alert-emergency');body$1.classList.add('has-alerts');notification.style.display='block';alertHeight();}});window.addEventListener('resize',alertHeight);}}var alert={init:init$3,alertHeight};var log$4=bows_min("navigation");var body$2=document.body;var top$1=document.getElementById("top");var header$1=document.getElementById('header');var search=document.getElementById('search__input');var mainNav=document.querySelector('.nav--primary');var navMainBtn=document.querySelector('.header__toggle-btn--menu');var mobileSubNavButton=document.querySelectorAll('.nav__menu-button--level-1');var topLevelButton=document.querySelectorAll('.nav__menu-button--level-0');var topLevelLink=document.querySelectorAll('.nav__menu-link[data-level="0"]');var childMenus=document.querySelectorAll('.nav__menu-item--level-0.nav__menu-item--children');var searchBtn=document.querySelectorAll('.header__toggle-btn--search');var searchCloseBtn=document.querySelector('.search__close');var searchSection=document.querySelector('.search--header');var dropdown=document.querySelector('.nav-dropdown');var dropdownBtn=document.querySelector('.nav-dropdown__toggle-btn');var utilItems=document.querySelectorAll('.nav--secondary > *:not(.nav-dropdown)');var skipSearch=document.querySelector('.skip-link--search');var skipResources=document.querySelector('.skip-link--resources');var headerMenus=document.getElementById('headerMenus');var secondaryNav=document.querySelector('.nav--secondary');var isSafari=!!navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome/i)&&typeof document.body.style.webkitFilter!=="undefined"&&!window.chrome;if(isSafari)body$2.classList.add('isSafari');log$4(alert.alertHeight());var headroomActive=false;var hero=document.querySelector('main>*:first-child');var herosticky=false;var nav=document.getElementById('header');var headroom$1=new headroom(nav,{offset:60,tolerance:{down:25,up:25},onNotTop:function(){body$2.classList.remove('search-open','search-opened');}});var focusable$1=top$1.querySelectorAll("a,button,input,select,iframe,video,audio, textarea");function enableFocus$1(){focusable$1.forEach(function(elm){elm.removeAttribute("tabindex");});}function returnFocus(doFocus){var returnFocusElm=document.querySelector('.return-focus');if(returnFocusElm!==null){if(doFocus!==false)returnFocusElm.focus();returnFocusElm.classList.remove('return-focus');}}function closeAllSubNav(){mobileSubNavButton.forEach(function(msb){closeSubMenu(msb);});}function openMenu(){body$2.classList.add('menu-opened');body$2.classList.add('menu-open');hideAlerts();setTimeout(function(){var firstItem=headerMenus.querySelector('a');firstItem.focus();},500);}function closeMenu(doFocus){if(doFocus===void 0)doFocus=true;var ariaExpanded=header$1.querySelectorAll('[aria-expanded]');ariaExpanded.forEach(function(ae){ae.setAttribute('aria-expanded',false);});enableFocus$1();body$2.classList.remove('menu-open');body$2.classList.remove('menu-opened');showAlerts();returnFocus(doFocus);var nmbo=document.querySelectorAll('.nav__menu-button--open');nmbo.forEach(function(el){closeSubMenu(el);});}function hideAlerts(){if($("body").hasClass("has-alerts")==true){if($("#header").hasClass("headroom--not-top")==false)$(".header").css({"position":"fixed","top":"0"});$(".alert-content").css("visibility","hidden");if($("#header").hasClass("headroom--not-top")==false)$("#content").css("margin","-"+alertContentHeight()+"px 0 0 0");}}function showAlerts(){if($("body").hasClass("has-alerts")==true){if($("#header").hasClass("headroom--not-top")==false)$(".header").css({"position":"absolute","top":alertContentHeight()+"px"});$(".alert-content").css("visibility","visible");if($("#header").hasClass("headroom--not-top")==false)$("#content").css("margin","0 0 0 0");}}function closeMenuIfInactive(e){setTimeout(function(){if(body$2.clientWidth>=1024&&!mainNav.contains(document.activeElement))closeMenu(false);else{if(body$2.clientWidth<1024&&!header$1.contains(document.activeElement))closeMenu(false);}}.bind(this),500);}function closeSearchIfInactive(e){setTimeout(function(){if(!searchSection.contains(document.activeElement))closeSearch();}.bind(this),500);}function setReturnFocus($this){returnFocus(false);$this.classList.add('return-focus');}function toggleMenu(){this.focus();if(body$2.classList.contains('menu-opened')===false){shouldCloseSearch();setReturnFocus(this);openMenu();}else closeMenu();}function esc$1(){document.addEventListener("keydown",function(evt){evt=evt||window.event;var isEscape=false;if("key" in evt)isEscape=evt.key=="Escape"||evt.key=="Esc";else isEscape=evt.keyCode==27;if(isEscape&&(body$2.classList.contains('menu-opened')===true||body$2.classList.contains('toplevel-opened')))closeMenu();if(isEscape&&body$2.classList.contains('search-opened')===true)closeSearch();if(isEscape&&dropdown.classList.contains('nav-dropdown--active')===true)closeDropdown();});}function subMenuOpen(el,time){el.classList.add('nav__submenu--visible');setTimeout(function(){el.classList.add('nav__submenu--active');},time);}function subMenuClose(el,time){el.classList.remove('nav__submenu--visible');setTimeout(function(){el.classList.remove('nav__submenu--active');},time);}function openSubMenu(el){var navItem=el.closest('.nav__menu-item');var nextSubmenu=navItem.querySelector('.nav__submenu');var nextNavmenu=navItem.querySelector('.nav__menu');var prevSibling=el.previousElementSibling;el.classList.add('nav__menu-button--open');navItem.classList.add('nav__menu-item--open');el.setAttribute('aria-expanded',true);prevSibling.classList.add('nav__menu-link--active');if(nextSubmenu)subMenuOpen(nextSubmenu,5);else{if(nextNavmenu)subMenuOpen(nextNavmenu,5);}}function closeSubMenu(el){if(el!==undefined){el.classList.remove('nav__menu-button--open');var navItem=el.closest('.nav__menu-item');var nextSubmenu=navItem.querySelector('.nav__submenu');var prevSibling=el.previousElementSibling;navItem.classList.remove('nav__menu-item--open');el.setAttribute('aria-expanded',false);prevSibling.classList.remove('nav__menu-link--active');var nextSibling=el.nextElementSibling;if(nextSibling!==null)subMenuClose(nextSibling,5);else{if(nextSubmenu)subMenuClose(nextSubmenu,5);}}}function toggleSubMenu(){this.focus();if(this.classList.contains('nav__menu-button--open')===false){if(body$2.clientWidth>=1024)closeAllSubNav();openSubMenu(this);}else closeSubMenu(this);}function closeTopLevel(all,$this){if(document.body.clientWidth>=1024&&all!==false)childMenus.forEach(function(el){var btn=el.querySelector('.nav__menu-button--level-0');var subMenu=el.querySelector('.nav__submenu');var navItem=el.closest('.nav__menu-item');if(btn)btn.classList.remove('nav__menu-button--open');if(subMenu){subMenu.classList.remove('nav__submenu--visible');subMenu.classList.remove('nav__submenu--active');}if(navItem)navItem.classList.remove('nav__menu-item--open');body$2.classList.remove('toplevel-opened');});else{var subMenu=$this.closest('li').querySelector('.nav__submenu');var navItem=$this.closest('.nav__menu-item');$this.setAttribute('aria-expanded',false);$this.classList.remove('nav__menu-button--open');navItem.classList.remove('nav__menu-item--open');body$2.classList.remove('toplevel-opened');if(subMenu){subMenu.classList.remove('nav__submenu--visible');setTimeout(function(){subMenu.classList.remove('nav__submenu--active');},10);}}}function openTopLevel($this){var subMenu=$this.closest('li').querySelector('.nav__submenu');var navItem=$this.closest('.nav__menu-item');$this.setAttribute('aria-expanded',true);$this.classList.add('nav__menu-button--open');navItem.classList.add('nav__menu-item--open');body$2.classList.add('toplevel-opened');if(subMenu){subMenu.classList.add('nav__submenu--visible');setTimeout(function(){subMenu.classList.add('nav__submenu--active');},10);}}function toggleTopMenu(){this.focus();if(this.classList.contains('nav__menu-button--open'))closeTopLevel(false,this);else{if(document.body.clientWidth>=1024){closeTopLevel(true);setReturnFocus(this);}openTopLevel(this);shouldCloseSearch();}}function openSearch(){body$2.classList.add('search-opened');setTimeout(function(){body$2.classList.add('search-open');},100);setTimeout(function(){search.focus();},800);}function shouldCloseSearch(){log$4('shouldCloseSearch');if(body$2.classList.contains('search-opened')===true)closeSearch(false);}function closeSearch(doReturnFocus){body$2.classList.remove('search-open');setTimeout(function(){body$2.classList.add('search-closing');},100);setTimeout(function(){body$2.classList.remove('search-opened');body$2.classList.remove('search-closing');},500);if(doReturnFocus!==false)returnFocus();}function toggleSearch(){if(body$2.classList.contains('search-opened')===false){if(body$2.classList.contains('menu-opened')===true)closeMenu();if(document.body.clientWidth>=1024)closeTopLevel();setReturnFocus(this);openSearch();}else closeSearch();}function openDropdown(){if(body$2.classList.contains('search-open')===true)closeSearch(false);closeMenu();dropdown.classList.add('nav-dropdown--active');dropdownBtn.classList.add('nav__dropdown-toggle-btn--open');dropdownBtn.setAttribute('aria-expanded',true);}function closeDropdown(){dropdown.classList.remove('nav-dropdown--active');dropdownBtn.classList.remove('nav__dropdown-toggle-btn--open');dropdownBtn.setAttribute('aria-expanded',false);}function toggleDropdown(){if(this.classList.contains('nav__dropdown-toggle-btn--open')===false)openDropdown();else closeDropdown();}function itemHoverIntent(element,theClass,visClass,time){var opts={timeout:time};element.forEach(function(elem){var hoverListener=hoverintent(elem,function(){if(document.body.clientWidth>=1024){closeTopLevel();closeSearch();}elem.classList.add(visClass);setTimeout(function(){elem.classList.add(theClass);},100);},function(){elem.classList.remove(theClass);setTimeout(function(){elem.classList.remove(visClass);closeAllSubNav();},100);}).options(opts);});}function is_touch_device(){return (('ontouchstart' in window)||(navigator.MaxTouchPoints>0));}var alertContent$1=document.querySelector('.alert-content');function stickyHeaderAlertSmall(){if(document.body.clientWidth<1024)if(headroomActive===false){if(inViewport.isAnyPartOfElementInViewport(alertContent$1)===false){headroom$1.init();headroomActive=true;body$2.classList.add('header-sticky');}}else{if(inViewport.isAnyPartOfElementInViewport(alertContent$1)===true){headroom$1.destroy();headroomActive=false;body$2.classList.remove('header-sticky');}}}function stickyHeaderFirstElement(){if(headroomActive===false){if(inViewport.isAnyPartOfElementInViewport(hero)===false&&herosticky===false){herosticky=true;headroom$1.init();headroomActive=true;body$2.classList.add('hero-out');setTimeout(function(){body$2.classList.add('hero-out--show');},250);}}else{if(inViewport.isAnyPartOfElementInViewport(hero)===true&&herosticky===true)if(headroomActive===true){herosticky=false;body$2.classList.add('hero-leave');body$2.classList.remove('hero-out--show');setTimeout(function(){body$2.classList.remove('hero-leave');body$2.classList.remove('hero-out');headroom$1.destroy();headroomActive=false;},250);}}}function alertContentHeight(){if(header$1&&alertContent$1)return alertContent$1.offsetHeight;else return 0;}function init$4(){var navMenuItem0=document.querySelectorAll('.nav--primary .nav__menu-item--level-0.nav__menu-item--children');if(!is_touch_device())itemHoverIntent(navMenuItem0,'nav__menu-item--active','nav__menu-item--visible',200);if(topLevelLink)topLevelLink.forEach(function(tll){tll.addEventListener('focus',function(){if(document.body.clientWidth>=1024)closeMenu();});});if(navMainBtn)navMainBtn.addEventListener('click',toggleMenu);if(header$1)header$1.addEventListener('focusout',closeMenuIfInactive);if(topLevelButton)topLevelButton.forEach(function(tlb){tlb.addEventListener('click',toggleTopMenu);});if(mobileSubNavButton)mobileSubNavButton.forEach(function(msnb){msnb.addEventListener('click',toggleSubMenu);});if(searchBtn)searchBtn.forEach(function(sb){sb.addEventListener('click',toggleSearch);});if(searchCloseBtn)searchCloseBtn.addEventListener('click',closeSearch);if(searchSection)searchSection.addEventListener('focusout',closeSearchIfInactive);if(dropdown)dropdown.addEventListener('mouseleave',function(){closeDropdown();});if(dropdownBtn)dropdownBtn.addEventListener('click',toggleDropdown);if(skipSearch)skipSearch.addEventListener('click',openSearch);if(skipResources)skipResources.addEventListener('click',openDropdown);if(utilItems)utilItems.forEach(function(ui){ui.addEventListener('focus',closeDropdown);});if(navMainBtn||searchBtn||dropdownBtn)esc$1();if(nav){if(body$2.clientWidth<1024){if(alertContent$1)stickyHeaderAlertSmall();else{headroomActive=true;headroom$1.init();}secondaryNav.lastElementChild.addEventListener('blur',function(){navMainBtn.focus();});}window.addEventListener('scroll',function(){stickyHeaderFirstElement();if(alertContent$1)stickyHeaderAlertSmall();});window.addEventListener('resize',function(){headroomActive=false;setTimeout(function(){if(body$2.clientWidth<1024)if(alertContent$1)stickyHeaderAlertSmall();else{headroomActive=true;headroom$1.init();}else stickyHeaderFirstElement();},100);if(body$2.classList.contains('menu-opened'))hideAlerts();});}}var navigation={init:init$4};var log$5=bows_min("video-inline");var videoInline=document.querySelectorAll('.video-inline');function changeButtonType(btn,value,hidden){var btnText=btn.querySelector('.a11y');btnText.innerHTML=value;if(value==='pause'){btn.classList.add('video-button--pause');btn.classList.remove('video-button--play');}else{btn.classList.remove('video-button--pause');btn.classList.add('video-button--play');}if(hidden===true)btn.setAttribute('hidden',true);}function playPauseVideo(player,btnPlayPause){if(player.paused||player.ended){var isloop=player.getAttribute('autoplay');if(isloop!==null&&isloop!==false)changeButtonType(btnPlayPause,'pause',false);else changeButtonType(btnPlayPause,'pause',true);if(player.classList.contains('video-inline__video--controls')===true)player.setAttribute('controls',true);player.play();}else{changeButtonType(btnPlayPause,'play',false);if(player.classList.contains('video-inline__video--controls')===true)player.removeAttribute('controls');player.pause();}}function setUp(){videoInline.forEach(function(el){var player=el.querySelector('video');var btnPlayPause=el.querySelector('.video-button--play-toggle');if(btnPlayPause)btnPlayPause.addEventListener('click',function(){playPauseVideo(player,btnPlayPause);});if(player){player.addEventListener('play',function(){changeButtonType(btnPlayPause,'pause');},false);player.addEventListener('pause',function(){changeButtonType(btnPlayPause,'play');},false);}});}function init$5(){if(videoInline.length)setUp();}var video_inline={init:init$5};var log$6=bows_min("video-vimeo");var vimeo_videos=document.querySelectorAll('[data-vimeo]');function add_api(){var tag=document.createElement('script'),firstScriptTag=document.getElementsByTagName('script')[0];tag.src="https://player.vimeo.com/api/player.js";firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);}function load_videos(){vimeo_videos.forEach(function(vid){var play_button=vid.querySelector('.video-button--play');var vimeo_id=vid.getAttribute('data-vimeo');var player_id="vimeo_"+vimeo_id;var vimeo_div=vid.querySelector('.video-vimeo__vimeo');var options={id:vimeo_id,width:1450,autoplay:false};vimeo_div.setAttribute('id',player_id);var video_player=new Vimeo.Player(player_id,options);video_player.ready().then(function(){fitvid();});if(play_button)play_button.addEventListener('click',function(){vid.classList.remove('video-vimeo--poster');vid.classList.add('video-vimeo--hide-buttons');video_player.play();});});}function init$6(){log$6("video vimeo");if(vimeo_videos.length){add_api();$(window).on('load',function(){load_videos();});}}var video_vimeo={init:init$6};var log$7=bows_min("filter");var filters=document.querySelectorAll('.filter');function filterToggle($this){$this.classList.toggle('filter--active');}function filterTrigger($this,filter,btn){var currentExpanded=filter.querySelector('[aria-expanded="true"]');var isExpanded=$this.getAttribute('aria-expanded');var controls=$this.dataset.controls;var activeTrigger=filter.querySelector('.filter__trigger--active');if(activeTrigger)activeTrigger.classList.remove('filter__trigger--active');if(isExpanded==='false'){if(currentExpanded){var showingId=currentExpanded.dataset.controls;var showing=document.getElementById(showingId);currentExpanded.setAttribute('aria-expanded',false);showing.classList.remove('filter-section--active');showing.classList.remove('filter-section--showing');}var toShow=document.getElementById(controls);$this.classList.add('filter__trigger--active');$this.setAttribute('aria-expanded',true);toShow.classList.add('filter-section--active');setTimeout(function(){toShow.classList.add('filter-section--showing');},50);}filter.classList.toggle('filter--active');var text=$this.innerHTML;var textChange=btn.querySelector('.filter__toggle__text');if(textChange)textChange.innerHTML=text;btn.focus();}function doFilters(){filters.forEach(function(filter){var btn=filter.querySelector('.filter__toggle');var trigger=filter.querySelectorAll('.filter__trigger');if(btn){btn.addEventListener('click',function(){this.focus();filterToggle(filter);});trigger.forEach(function(el){el.addEventListener('click',function(){filterTrigger(this,filter,btn);});});}filter.addEventListener('mouseleave',function(){log$7('mouseleave');this.classList.remove('filter--active');});filter.addEventListener('focusout',function(){var this$1=this;setTimeout(function(){var focused=filter.querySelector(':focus');if(focused===null)this$1.classList.remove('filter--active');},500);});});}function init$7(){if(filters)doFilters();}var filter={init:init$7};var log$8=bows_min("hero");var heroContent=document.querySelector('.hero__content');var heroText=document.querySelector('.hero__text');var heroExcerpt=document.querySelector('.hero__excerpt');var heroLink=document.querySelector('.hero__link');var heroClass='hero__text--hover';function itemHoverIntent$1(element,theClass,time,num){var opts={timeout:time,interval:num};log$8(element);var hoverListener=hoverintent(element,function(){heroText.classList.add(theClass);},function(){heroText.classList.remove(theClass);}).options(opts);}function init$8(){if(heroExcerpt)itemHoverIntent$1(heroContent,heroClass,200,50);if(heroLink){heroLink.addEventListener('focus',function(){heroText.classList.add(heroClass);});heroLink.addEventListener('blur',function(){heroText.classList.remove(heroClass);});}}var hero$1={init:init$8};var log$9=bows_min("accordion-controls");var accordionBtns=document.querySelectorAll('.js-wikit-accordion-toggle__btn');function openAll(triggers){triggers.forEach(function(trigger){var isExpanded=trigger.getAttribute('aria-expanded');if(isExpanded==='false')trigger.click();});}function closeAll(triggers){triggers.forEach(function(trigger){var isExpanded=trigger.getAttribute('aria-expanded');if(isExpanded==='true')trigger.click();});}function accordionToggle(){var which=this.dataset.toggle;var accordionSet=this.closest('.js-wikit-accordion-group');var triggers=accordionSet.querySelectorAll('.js-wikit-accordion__trigger');if(which==='expand')openAll(triggers);else{if(which==='collapse')closeAll(triggers);}}function init$9(){accordionBtns.forEach(function(ab){ab.addEventListener('click',accordionToggle);});}var accordionControls={init:init$9};function init$a(){Array.prototype.slice.call(document.querySelectorAll('.js-wikit-accordion')).forEach(function(accordion){var allowMultiple=accordion.hasAttribute('data-allow-multiple');var allowToggle=(allowMultiple)?allowMultiple:accordion.hasAttribute('data-allow-toggle');var triggers=Array.prototype.slice.call(accordion.querySelectorAll('.js-wikit-accordion__trigger'));accordion.addEventListener('click',function(event){event.stopPropagation();var target=event.target;if(target.classList.contains('js-wikit-accordion__trigger')&&target.classList.contains('js-wikit-accordion__trigger--animating')===false){var isExpanded=target.getAttribute('aria-expanded')=='true';var active=accordion.querySelector('[aria-expanded="true"]');target.classList.add('js-wikit-accordion__trigger--animating');setTimeout(function(){target.classList.remove('js-wikit-accordion__trigger--animating');console.log('removed Class');},1000);if(!allowMultiple&&active&&active!==target){active.setAttribute('aria-expanded','false');active.closest('.js-wikit-accordion__item').classList.remove('is-expanded');document.getElementById(active.getAttribute('aria-controls')).classList.remove('js-wikit-accordion__panel--open');setTimeout(function(){document.getElementById(active.getAttribute('aria-controls')).setAttribute('hidden','');},1000);if(!allowToggle)active.removeAttribute('aria-disabled');}if(!isExpanded){target.setAttribute('aria-expanded','true');target.closest('.js-wikit-accordion__item').classList.add('is-expanded');document.getElementById(target.getAttribute('aria-controls')).removeAttribute('hidden');setTimeout(function(){document.getElementById(target.getAttribute('aria-controls')).classList.add('js-wikit-accordion__panel--open');},10);if(!allowToggle)target.setAttribute('aria-disabled','true');}else{if(allowToggle&&isExpanded){target.setAttribute('aria-expanded','false');target.closest('.js-wikit-accordion__item').classList.remove('is-expanded');document.getElementById(target.getAttribute('aria-controls')).classList.remove('js-wikit-accordion__panel--open');setTimeout(function(){document.getElementById(target.getAttribute('aria-controls')).setAttribute('hidden','');},1000);}}event.preventDefault();}});accordion.addEventListener('keydown',function(event){var target=event.target;var key=event.which.toString();var isExpanded=target.getAttribute('aria-expanded')=='true';var allowToggle=(allowMultiple)?allowMultiple:accordion.hasAttribute('data-allow-toggle');var ctrlModifier=(event.ctrlKey&&key.match(/33|34/));if(target!==undefined&&target!==null)if(target.classList.contains('js-wikit-accordion__trigger'))if(key.match(/38|40/)||ctrlModifier){var index=triggers.indexOf(target);var direction=(key.match(/34|40/))?1:-1;var length=triggers.length;var newIndex=(index+length+direction)%length;triggers[newIndex].focus();event.preventDefault();}else{if(key.match(/35|36/)){switch(key){case '36':triggers[0].focus();break;case '35':triggers[triggers.length-1].focus();break;}event.preventDefault();}}});accordion.querySelectorAll('.js-wikit-accordion__trigger').forEach(function(trigger){trigger.addEventListener('focus',function(event){accordion.classList.add('focus');});trigger.addEventListener('blur',function(event){accordion.classList.remove('focus');});});if(!allowToggle){var expanded=accordion.querySelector('[aria-expanded="true"]');if(expanded)expanded.setAttribute('aria-disabled','true');}});accordionControls.init();}var accordion={init:init$a};var tabbed=document.querySelectorAll('.js-wikit-tabbed');var accordionTitle=document.querySelectorAll('.accordion-toggle-tab');function doEachTab(tablist,tabs,panels,toggleTab){var switchTab=function(oldTab,newTab,isFocus){if(isFocus!==false)newTab.focus();else newTab.removeAttribute('tabindex');newTab.setAttribute('aria-selected','true');newTab.removeAttribute('tabindex');oldTab.removeAttribute('aria-selected');oldTab.setAttribute('tabindex','-1');oldTab.setAttribute('aria-selected','false');var index=Array.prototype.indexOf.call(tabs,newTab);var oldIndex=Array.prototype.indexOf.call(tabs,oldTab);panels[oldIndex].hidden=true;panels[index].hidden=false;var oldAtt=oldTab.getAttribute('href').split('#');var newAtt=newTab.getAttribute('href').split('#');oldAtt=document.querySelector((".accordion-toggle-tab[aria-controls=\""+(oldAtt[1])+"\"]"));newAtt=document.querySelector((".accordion-toggle-tab[aria-controls=\""+(newAtt[1])+"\"]"));if(oldAtt)oldAtt.setAttribute('aria-expanded','false');if(newAtt)newAtt.setAttribute('aria-expanded','true');window.dispatchEvent(new Event('resize'));window.upennsliders.forEach(function(slider){slider.slick('setPosition');});};tablist.setAttribute('role','tablist');Array.prototype.forEach.call(tabs,function(tab,i){tab.setAttribute('role','tab');tab.setAttribute('tabindex','-1');tab.parentNode.setAttribute('role','presentation');tab.addEventListener('click',function(e){e.preventDefault();var currentTab=tablist.querySelector('[aria-selected="true"]');if(e.currentTarget!==currentTab)switchTab(currentTab,e.currentTarget,true);});tab.addEventListener('keydown',function(e){var index=Array.prototype.indexOf.call(tabs,e.currentTarget);var dir=e.which===37?index-1:e.which===39?index+1:e.which===40?'down':null;if(dir!==null){e.preventDefault();dir==='down'?panels[i].focus():tabs[dir]?switchTab(e.currentTarget,tabs[dir]):void 0;}});});Array.prototype.forEach.call(panels,function(panel,i){panel.setAttribute('role','tabpanel');panel.setAttribute('tabindex','-1');var id=panel.getAttribute('id');panel.setAttribute('aria-labelledby',tabs[i].id);panel.hidden=true;});tabs[0].removeAttribute('tabindex');tabs[0].setAttribute('aria-selected','true');Array.prototype.forEach.call(toggleTab,function(tt){tt.setAttribute('aria-expanded',false);});toggleTab[0].setAttribute('aria-expanded',true);panels[0].hidden=false;}function tabAccordionFix(){var acc=document.querySelectorAll('.accordion-toggle-tab');acc.forEach(function(tab){var isHidden=tab.nextElementSibling.getAttribute('hidden');if(isHidden!==null&&isHidden!==true)tab.setAttribute('aria-expanded',false);});}function init$b(){if(tabbed.length>0){for(var i=0;i<tabbed.length;i++){var tablist=tabbed[i].querySelector('ul');var tabs=tablist.querySelectorAll('a');var panels=tabbed[i].querySelectorAll('[id^="tabpanel"]');var toggleTab=tabbed[i].querySelectorAll('.accordion-toggle-tab');doEachTab(tablist,tabs,panels,toggleTab);}var endResizeEvent;window.addEventListener('resize',function(){clearTimeout(endResizeEvent);endResizeEvent=setTimeout(function(){tabAccordionFix();if(window.innerWidth>=1024){var tf=document.querySelectorAll('.tablist--fix');tf.forEach(function($this){var wk=$this.closest('.js-wikit-tabbed').querySelectorAll('.wikit-tab');var activeTab=$this.querySelector('[aria-selected="true"]').getAttribute('href').split('#');var removeHidden=document.getElementById(activeTab[1]);$this.classList.remove('tablist--fix');wk.forEach(function(wk){wk.setAttribute('hidden','hidden');});if(removeHidden)removeHidden.removeAttribute('hidden');});}},250);});}Array.prototype.forEach.call(accordionTitle,function(at){var btn=at;var target=at.nextElementSibling;btn.onclick=function(){var expanded=btn.getAttribute('aria-expanded')==='true';btn.setAttribute('aria-expanded',!expanded);target.hidden=expanded;var tabTarget=target.getAttribute('id');var activeTab=document.querySelector((".tab-nav__link[href=\"#"+tabTarget+"\"]"));if(activeTab){var tabList=activeTab.parentElement.parentElement;var tabs=tabList.querySelectorAll('a[role="tab"]');tabList.classList.add('tablist--fix');Array.prototype.forEach.call(tabs,function(tab){tab.removeAttribute('aria-selected');tab.setAttribute('tabindex','-1');tab.setAttribute('aria-selected','false');});activeTab.setAttribute('aria-selected','true');activeTab.removeAttribute('tabindex');}window.dispatchEvent(new Event('resize'));window.upennsliders.forEach(function(slider){slider.slick('setPosition');});};});}var tabs={init:init$b};var log$a=bows_min("link-grid");var linkGrid=document.getElementById("linkGrid");var linkGridImg=document.querySelectorAll('.link-grid__image');var linkGridItem=document.querySelectorAll('.link-grid__link');function showGridBackground(grid){var showGrid=linkGrid.querySelector(("."+grid));if(showGrid)if(showGrid.classList.contains('link-grid__image--active')===false){hideGridBackground();showGrid.classList.add('link-grid__image--active');setTimeout(function(){showGrid.classList.add('link-grid__image--opacity');},20);}}function hideGridBackground(){var currentGrid=linkGrid.querySelector('.link-grid__image--active');if(currentGrid){currentGrid.classList.remove('link-grid__image--opacity');setTimeout(function(){currentGrid.classList.remove('link-grid__image--active');},500);}}function itemHoverIntent$2(element,theClass,time){var opts={timeout:time};log$a(element);element.forEach(function(elem){var hoverListener=hoverintent(elem,function(){elem.classList.add(theClass);var grid=elem.dataset.grid;log$a(grid);showGridBackground(grid);},function(){elem.classList.remove(theClass);}).options(opts);});}function loadAllGrid(){linkGridImg.forEach(function(item){item.classList.add('link-grid__image--loading');setTimeout(function(){item.classList.remove('link-grid__image--loading');},100);});}function init$c(){if(linkGridItem){itemHoverIntent$2(linkGridItem,'link-grid__item--active',250);linkGridItem.forEach(function(item){item.addEventListener('focus',function(){var grid=this.dataset.grid;showGridBackground(grid);});});}}var link_grid={init:init$c,loadAllGrid};jQuery.expr[':'].Contains=function(a,i,m){return jQuery(a).text().toUpperCase().indexOf(m[3].toUpperCase())>=0;};var $azSearch=$('#a-z-search');var log$b=bows_min("a-to-z");var $aToZ='';var $aToZItems='';var $aToZNoResults=$('#a-to-z-no-results');var activeButton='ALL';function letterUpdates(letter){activeButton=letter;$('.a-z-search__button--active').removeClass('a-z-search__button--active');$((".a-z-search__button[value=\""+letter+"\"]")).addClass('a-z-search__button--active');$('.a-z-search__select').find(("option[value=\""+letter+"\"]")).prop('selected',true);if(letter==='ALL'){$aToZ.css('display','block');isSectionEmpty();}else{$aToZ.hide();$((".a-to-z[data-letter=\""+letter+"\"]")).css('display','block');}showNoResults();}function showNoResults(){var $this='';if(activeButton==='ALL')$this=$('#content');else $this=$(("[data-letter=\""+activeButton+"\"]"));var $items=$this.find('.a-to-z__item');var $itemsHidden=$this.find('.a-to-z__item--hidden');if($items.length===$itemsHidden.length)$aToZNoResults.addClass('no-results--active');else $aToZNoResults.removeClass('no-results--active');}function aToZSelect(){$('.a-z-search__select').on('change',function(){var letter=$(this).val().toUpperCase();letterUpdates(letter);});}function aToZButtons(){$azSearch.on('click','.a-z-search__button',function(){var $this=$(this);if($this.hasClass('a-z-search__button--active')===false){var letter=$this.val().toUpperCase();letterUpdates(letter);}});}function isSectionEmpty(){$aToZ.each(function(){var $this=$(this);var $items=$this.find('.a-to-z__item');var $itemsHidden=$this.find('.a-to-z__item--hidden');if($items.length===$itemsHidden.length)$this.hide();else $this.css('display','block');});}function aToZSearch(){$('.a-z-search__input').on('keyup',function(){var textVal=$(this).val();log$b(textVal);if(textVal.length>=1){$aToZItems.addClass('a-to-z__item--hidden');var aZSearchResults=$((".a-to-z__item:Contains('"+textVal+"')"));aZSearchResults.removeClass('a-to-z__item--hidden');}else{$aToZItems.removeClass('a-to-z__item--hidden');$aToZNoResults.removeClass('no-results--active');}showNoResults();if(activeButton==='ALL')isSectionEmpty();});}function init$d(){if($azSearch.length){$aToZ=$('.a-to-z');$aToZItems=$('.a-to-z__item');aToZButtons();aToZSearch();aToZSelect();$('.a-z-search__form').on('submit',function(){var this$1=this;$(this).attr('tabindex','-1').focus();setTimeout(function(){$(this$1).removeAttr('tabindex');},100);return false;});}}var a_to_z={init:init$d};var log$c=bows_min("general");var body$3=$('body');var $header=$('#header');var $figcaption=$('figcaption');function scrollTo($this){var href=$this.attr('href');var where=$(href);var scrollToIt=where.offset().top-$header.height();if(href==='#top')scrollToIt=0;$('html,body').animate({scrollTop:scrollToIt},'slow',function(){if(href!=='#top')where.focus();else{body$3.attr('tabindex','-1');body$3.focus();setTimeout(function(){body$3.removeAttr('tabindex');},100);}});return false;}function figcaptionWidth(){$figcaption.each(function(){var $this=$(this);var img=$this.closest('figure').find('img').eq(0);if(img.length){var newWidth=img.width();$this.css('max-width',newWidth);}});}function init$e(){$('.footer__to-top, .jump-link').on('click',function(){scrollTo($(this));return false;});$(".modal").detach().insertAfter("#modal-overlay");$(window).on('load',function(){figcaptionWidth();}).on('resize',function(){clearTimeout(timeout);var timeout=setTimeout(function(){figcaptionWidth();},100);});}var general={init:init$e};var FUNC_ERROR_TEXT='Expected a function';var NAN=0/0;var symbolTag='[object Symbol]';var reTrim=/^\s+|\s+$/g;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsOctal=/^0o[0-7]+$/i;var freeParseInt=parseInt;var freeGlobal=typeof commonjsGlobal=='object'&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;var freeSelf=typeof self=='object'&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function('return this')();var objectProto=Object.prototype;var objectToString=objectProto.toString;var nativeMax=Math.max,nativeMin=Math.min;var now=function(){return root.Date.now();};function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!='function')throw new TypeError(FUNC_ERROR_TEXT);wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing='maxWait' in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing='trailing' in options?!!options.trailing:trailing;}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result;}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result;}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result;}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return (lastCallTime===undefined||(timeSinceLastCall>=wait)||(timeSinceLastCall<0)||(maxing&&timeSinceLastInvoke>=maxWait));}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,remainingWait(time));}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs)return invokeFunc(time);lastArgs=lastThis=undefined;return result;}function cancel(){if(timerId!==undefined)clearTimeout(timerId);lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined;}function flush(){return timerId===undefined?result:trailingEdge(now());}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined)return leadingEdge(lastCallTime);if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime);}}if(timerId===undefined)timerId=setTimeout(timerExpired,wait);return result;}debounced.cancel=cancel;debounced.flush=flush;return debounced;}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!='function')throw new TypeError(FUNC_ERROR_TEXT);if(isObject(options)){leading='leading' in options?!!options.leading:leading;trailing='trailing' in options?!!options.trailing:trailing;}return debounce(func,wait,{'leading':leading,'maxWait':wait,'trailing':trailing});}function isObject(value){var type=typeof value;return !!value&&(type=='object'||type=='function');}function isObjectLike(value){return !!value&&typeof value=='object';}function isSymbol(value){return typeof value=='symbol'||(isObjectLike(value)&&objectToString.call(value)==symbolTag);}function toNumber(value){if(typeof value=='number')return value;if(isSymbol(value))return NAN;if(isObject(value)){var other=typeof value.valueOf=='function'?value.valueOf():value;value=isObject(other)?(other+''):other;}if(typeof value!='string')return value===0?value:+value;value=value.replace(reTrim,'');var isBinary=reIsBinary.test(value);return (isBinary||reIsOctal.test(value))?freeParseInt(value.slice(2),isBinary?2:8):(reIsBadHex.test(value)?NAN:+value);}var lodash_throttle=throttle;var log$d=bows_min("fact-bar");var factbars=document.querySelectorAll('.fact-bar');var throttleIt=lodash_throttle(inview,100);var activeFactbars=0;function inview(){log$d('throttleing');factbars.forEach(function(fb){if(inViewport.isElementInViewport(fb)===true&&fb.classList.contains('fact-bar--active')===false){var fbb=fb.querySelector('.fact-bar__bar');var fbb_width=0;if(fbb)fbb_width=parseInt(fbb.dataset.percentage,10);fb.classList.add('fact-bar--active');activeFactbars++;setTimeout(function(){fbb.style.maxWidth=fbb_width+"%";},500);}});if(activeFactbars===factbars.length)window.removeEventListener('scroll',throttleIt);}function init$f(){if(factbars.length>0){window.addEventListener('scroll',throttleIt);$(window).on('load',function(){inview();});}}var factbars$1={init:init$f};var card_links=document.querySelectorAll('.card a');var log$e=bows_min("card");function addCardHover(){card_links.forEach(function(card){card.addEventListener("mouseenter",function(){this.closest('.card').classList.add('is-hovered');});card.addEventListener("mouseout",function(){this.closest('.card').classList.remove('is-hovered');});});}function init$g(){if(card_links)addCardHover();}var cards={init:init$g};var card_links$1=document.querySelectorAll('.article-card__link');var log$f=bows_min("article-card");function addCardHover$1(){card_links$1.forEach(function(card){card.addEventListener("mouseenter",function(){this.closest('.article-card').classList.add('is-hovered');});card.addEventListener("mouseout",function(){this.closest('.article-card').classList.remove('is-hovered');});});}function init$h(){if(card_links$1)addCardHover$1();}var articleCards={init:init$h};var card_links$2=document.querySelectorAll('.featured-initiative-card__title__link');var card_button=document.querySelectorAll('.featured-initiative-card .btn');var log$g=bows_min("featured-initiative-card");function addCardListener(el){el.addEventListener("mouseenter",function(){this.closest('.featured-initiative-card ').classList.add('is-hovered');});el.addEventListener("mouseout",function(){this.closest('.featured-initiative-card ').classList.remove('is-hovered');});}function init$i(){if(card_links$2)card_links$2.forEach(function(card){addCardListener(card);});if(card_button)card_button.forEach(function(button){addCardListener(button);});}var featuredInitiativeCards={init:init$i};var card_links$3=document.querySelectorAll('.event-card__link');var card_image_links=document.querySelectorAll('.event-card__image-link');var log$h=bows_min("event-card");function addCardListener$1(el){el.addEventListener("mouseenter",function(){this.closest('.event-card ').classList.add('is-hovered');});el.addEventListener("mouseout",function(){this.closest('.event-card ').classList.remove('is-hovered');});}function init$j(){if(card_links$3)card_links$3.forEach(function(card){addCardListener$1(card);});if(card_image_links)card_image_links.forEach(function(image_link){addCardListener$1(image_link);});}var eventCards={init:init$j};var card_links$4=document.querySelectorAll('.listing-card__title__link, .listing-card__image');var log$i=bows_min("listing-card");function addCardHover$2(){card_links$4.forEach(function(card){card.addEventListener("mouseenter",function(){this.closest('.listing-card').classList.add('is-hovered');});card.addEventListener("mouseout",function(){this.closest('.listing-card').classList.remove('is-hovered');});});}function init$k(){if(card_links$4)addCardHover$2();}var listingCards={init:init$k};var card_links$5=document.querySelectorAll('.grid-card__image-link, .grid-card__link');var log$j=bows_min("card");function addCardHover$3(){card_links$5.forEach(function(card){card.addEventListener("mouseenter",function(){this.closest('.grid-card').classList.add('is-hovered');});card.addEventListener("mouseout",function(){this.closest('.grid-card').classList.remove('is-hovered');});});}function init$l(){if(card_links$5)addCardHover$3();}var gridCards={init:init$l};var $slidersThreeAcross=$('[data-slider="three-across"]');var sliderInitiated=false;var $body=$('body');var log$k=bows_min("sliders:three-across");function sliderReInit(){$slidersThreeAcross=$('[data-slider="three-across"]');sliderInit();}function sliderInit(){$slidersThreeAcross.each(function(){var $this=$(this);var role=$this.attr('role');if(role!=='region'&&$body.width()<1024)$this.slick({dots:true,mobileFirst:true,speed:500,touchThreshold:20,infinite:false,variableWidth:true,slidesToShow:1,arrows:false,responsive:[{breakpoint:1024,settings:"unslick"}]});if(sliderInitiated===false){size.addMedium(sliderReInit);size.addSmall(sliderReInit);sliderInitiated=true;}});}function init$m(){if($slidersThreeAcross.length)sliderInit();}var threeAcross={init:init$m};var $centerToEdge=$('[data-slider="center-to-edge"]');var log$l=bows_min("sliders:center-to-edge");function sliderInit$1(){$centerToEdge.each(function(){var $this=$(this);var appendArrowsTo=$this.next('.penn-priorities__arrows');var slider=$this.slick({dots:true,mobileFirst:true,speed:500,infinite:false,variableWidth:false,slidesToShow:1,arrows:false,slidesToScroll:1,touchThreshold:20,responsive:[{breakpoint:676,settings:{slidesToShow:3,slidesToScroll:1,infinite:true,dots:true,centerMode:true,variableWidth:true,arrows:true,appendArrows:appendArrowsTo}}]});window.upennsliders.push(slider);$(appendArrowsTo).detach().appendTo($this);});}function init$n(){if($centerToEdge.length)sliderInit$1();}var centerToEdge={init:init$n};var $singleSmall=$('[data-slider="single-small"]');var sliderInitiated$1=false;var $body$1=$('body');var log$m=bows_min("sliders:single-small");function sliderReInit$1(){$singleSmall=$('[data-slider="single-small"]');sliderInit$2();}function sliderInit$2(){$singleSmall.each(function(){var $this=$(this);var role=$this.attr('role');if(role!=='region'&&$body$1.width()<1024)$this.slick({dots:true,mobileFirst:true,speed:500,infinite:false,arrows:false,responsive:[{breakpoint:1023,settings:"unslick"},{breakpoint:690,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:639,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]});if(sliderInitiated$1===false){size.addMedium(sliderReInit$1);size.addSmall(sliderReInit$1);sliderInitiated$1=true;}});}function init$o(){if($singleSmall.length)sliderInit$2();}var singleSmall={init:init$o};var $gallery=$('[data-slider="gallery"]');var log$n=bows_min("sliders:gallery");function setControls($self,$gn){var currentImageHeight=$self.find('img').height();$gn.css('top',currentImageHeight+40);}function sliderInit$3(){$gallery.each(function(){var $self=$(this);var role=$self.attr('role');var $btns=$self.find('.gallery-card__button');var $galleryslider=$self.closest('.gallery-slider');var $gn=$galleryslider.find('.gallery__navigation');var $gb=$galleryslider.find('.gallery__arrows');var $gd=$galleryslider.find('.gallery__dots');if(role!=='region'){var $slider=$self.slick({slidesToShow:1,infinite:true,dots:true,appendDots:$gd,arrows:true,appendArrows:$gb,draggable:true,touchThreshold:20,adaptiveHeight:false});$galleryslider.addClass('gallery-slider--active');setTimeout(function(){setControls($self.find('.slick-current'),$gn);},100);$slider.on('afterChange',function(event,slick,currentSlide){setControls($self.find(("[data-slick-index=\""+currentSlide+"\"]")),$gn);});$(window).on('resize',function(){setTimeout(function(){setControls($self.find('.slick-current'),$gn);},100);});}});}function init$p(){if($gallery.length)sliderInit$3();}var gallery={init:init$p};var $slidersTwoAcross=$('[data-slider="two-across"]');var $body$2=$('body');var log$o=bows_min("sliders:two-across");function sliderInit$4(){$slidersTwoAcross.each(function(){var $this=$(this);var role=$this.attr('role');if(role!=='region')$this.slick({dots:true,speed:500,infinite:false,slidesToShow:2,arrows:false,responsive:[{breakpoint:640,settings:{slidesToShow:1}}]});});}function init$q(){if($slidersTwoAcross.length)sliderInit$4();}var twoAcross={init:init$q};var $single=$('[data-slider="single"]');var $body$3=$('body');var log$p=bows_min("sliders:single-small");function sliderInit$5(){$single.each(function(){var $this=$(this);var role=$this.attr('role');if(role!=='region')$this.slick({dots:true,mobileFirst:true,speed:500,infinite:true,arrows:false,slidesToShow:1,slidesToScroll:1,fade:true});});}function init$r(){if($single.length)sliderInit$5();}var single={init:init$r};var $singleImage=$('[data-slider="single-image"]');var $body$4=$('body');var log$q=bows_min("sliders:single-image");function sliderInit$6(){$singleImage.each(function(){var $this=$(this);var role=$this.attr('role');var prev=$(this).find('[data-direction="prev"]');var next=$(this).find('[data-direction="next"]');var slider='';if(role!=='region')slider=$this.slick({dots:false,mobileFirst:true,speed:500,infinite:true,arrows:false,slidesToShow:1,slidesToScroll:1});prev.on('click',function(){slider.slick('slickPrev');});next.on('click',function(){slider.slick('slickNext');});});}function init$s(){if($singleImage.length)sliderInit$6();}var singleImage={init:init$s};var $slidersThreeAcrossCards=$('[data-slider="three-across-cards"]');var $body$5=$('body');var log$r=bows_min("sliders:three-across-cards");function sliderInit$7(){$slidersThreeAcrossCards.each(function(){var $this=$(this);var role=$this.attr('role');if(role!=='region'){var slider=$this.slick({dots:true,speed:500,slidesToShow:3,slidesToScroll:3,arrows:true,responsive:[{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}}]});window.upennsliders.push(slider);}});}function init$t(){if($slidersThreeAcrossCards.length)sliderInit$7();}var threeAcrossCards={init:init$t};var log$s=bows_min("site");var Site=function Site(){var this$1=this;document.addEventListener('DOMContentLoaded',function(){return this$1.ready();});window.addEventListener('load',function(){return this$1.load();});};Site.prototype.ready=function ready(){var log=bows_min("site:domReady");alert.init();window.upennsliders=[];keyboardFocus$1.init();log('document.DOMContentLoaded');navigation.init();modal.init();size.init();filter.init();fitvid();video_inline.init();video_vimeo.init();hero$1.init();accordion.init();tabs.init();link_grid.init();a_to_z.init();general.init();factbars$1.init();cards.init();articleCards.init();featuredInitiativeCards.init();eventCards.init();listingCards.init();gridCards.init();threeAcross.init();centerToEdge.init();singleSmall.init();gallery.init();twoAcross.init();single.init();singleImage.init();threeAcrossCards.init();};Site.prototype.load=function load(){var log=bows_min("site:windowLoad");log("window.onload");ofi_commonJs();};return Site;}));;
;(function(factory){'use strict';if(typeof define==='function'&&define.amd)define(['jquery'],factory);else if(typeof exports!=='undefined')module.exports=factory(require('jquery'));else factory(jQuery);}(function($){'use strict';var Slick=window.Slick||{};Slick=(function(){var instanceUid=0;function Slick(element,settings){var _=this,dataSettings;_.defaults={accessibility:true,adaptiveHeight:false,appendArrows:$(element),appendDots:$(element),arrows:true,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:false,autoplaySpeed:3000,centerMode:false,centerPadding:'50px',cssEase:'ease',customPaging:function(slider,i){return $('<button type="button" />').text(i+1);},dots:false,dotsClass:'slick-dots',draggable:true,easing:'linear',edgeFriction:0.35,fade:false,focusOnSelect:false,focusOnChange:true,infinite:true,initialSlide:0,lazyLoad:'ondemand',mobileFirst:false,pauseOnHover:true,pauseOnFocus:true,pauseOnDotsHover:false,respondTo:'window',responsive:null,rows:1,rtl:false,slide:'',slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:true,swipeToSlide:false,touchMove:true,touchThreshold:5,useCSS:true,useTransform:true,variableWidth:false,vertical:false,verticalSwiping:false,waitForAnimate:true,zIndex:1000};_.initials={animating:false,dragging:false,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:false,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:false,slideOffset:0,swipeLeft:null,swiping:false,$list:null,touchObject:{},transformsEnabled:false,unslicked:false};$.extend(_,_.initials);_.activeBreakpoint=null;_.animType=null;_.animProp=null;_.breakpoints=[];_.breakpointSettings=[];_.cssTransitions=false;_.focussed=false;_.interrupted=false;_.hidden='hidden';_.paused=true;_.positionProp=null;_.respondTo=null;_.rowCount=1;_.shouldClick=true;_.$slider=$(element);_.$slidesCache=null;_.transformType=null;_.transitionType=null;_.visibilityChange='visibilitychange';_.windowWidth=0;_.windowTimer=null;dataSettings=$(element).data('slick')||{};_.options=$.extend({},_.defaults,settings,dataSettings);_.currentSlide=_.options.initialSlide;_.originalSettings=_.options;if(typeof document.mozHidden!=='undefined'){_.hidden='mozHidden';_.visibilityChange='mozvisibilitychange';}else{if(typeof document.webkitHidden!=='undefined'){_.hidden='webkitHidden';_.visibilityChange='webkitvisibilitychange';}}_.autoPlay=$.proxy(_.autoPlay,_);_.autoPlayClear=$.proxy(_.autoPlayClear,_);_.autoPlayIterator=$.proxy(_.autoPlayIterator,_);_.changeSlide=$.proxy(_.changeSlide,_);_.clickHandler=$.proxy(_.clickHandler,_);_.selectHandler=$.proxy(_.selectHandler,_);_.setPosition=$.proxy(_.setPosition,_);_.swipeHandler=$.proxy(_.swipeHandler,_);_.dragHandler=$.proxy(_.dragHandler,_);_.keyHandler=$.proxy(_.keyHandler,_);_.instanceUid=instanceUid++;_.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;_.registerBreakpoints();_.init(true);}return Slick;}());Slick.prototype.activateADA=function(){var _=this;_.$slideTrack.find('.slick-active').attr({'aria-hidden':'false'}).find('a, input, button, select').attr({'tabindex':'0'});};Slick.prototype.addSlide=Slick.prototype.slickAdd=function(markup,index,addBefore){var _=this;if(typeof (index)==='boolean'){addBefore=index;index=null;}else{if(index<0||(index>=_.slideCount))return false;}_.unload();if(typeof (index)==='number')if(index===0&&_.$slides.length===0)$(markup).appendTo(_.$slideTrack);else if(addBefore)$(markup).insertBefore(_.$slides.eq(index));else $(markup).insertAfter(_.$slides.eq(index));else if(addBefore===true)$(markup).prependTo(_.$slideTrack);else $(markup).appendTo(_.$slideTrack);_.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slides.each(function(index,element){$(element).attr('data-slick-index',index);});_.$slidesCache=_.$slides;_.reinit();};Slick.prototype.animateHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===true&&_.options.vertical===false){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(true);_.$list.animate({height:targetHeight},_.options.speed);}};Slick.prototype.animateSlide=function(targetLeft,callback){var animProps={},_=this;_.animateHeight();if(_.options.rtl===true&&_.options.vertical===false)targetLeft=-targetLeft;if(_.transformsEnabled===false)if(_.options.vertical===false)_.$slideTrack.animate({left:targetLeft},_.options.speed,_.options.easing,callback);else _.$slideTrack.animate({top:targetLeft},_.options.speed,_.options.easing,callback);else if(_.cssTransitions===false){if(_.options.rtl===true)_.currentLeft=-(_.currentLeft);$({animStart:_.currentLeft}).animate({animStart:targetLeft},{duration:_.options.speed,easing:_.options.easing,step:function(now){now=Math.ceil(now);if(_.options.vertical===false){animProps[_.animType]='translate('+now+'px, 0px)';_.$slideTrack.css(animProps);}else{animProps[_.animType]='translate(0px,'+now+'px)';_.$slideTrack.css(animProps);}},complete:function(){if(callback)callback.call();}});}else{_.applyTransition();targetLeft=Math.ceil(targetLeft);if(_.options.vertical===false)animProps[_.animType]='translate3d('+targetLeft+'px, 0px, 0px)';else animProps[_.animType]='translate3d(0px,'+targetLeft+'px, 0px)';_.$slideTrack.css(animProps);if(callback)setTimeout(function(){_.disableTransition();callback.call();},_.options.speed);}};Slick.prototype.getNavTarget=function(){var _=this,asNavFor=_.options.asNavFor;if(asNavFor&&asNavFor!==null)asNavFor=$(asNavFor).not(_.$slider);return asNavFor;};Slick.prototype.asNavFor=function(index){var _=this,asNavFor=_.getNavTarget();if(asNavFor!==null&&typeof asNavFor==='object')asNavFor.each(function(){var target=$(this).slick('getSlick');if(!target.unslicked)target.slideHandler(index,true);});};Slick.prototype.applyTransition=function(slide){var _=this,transition={};if(_.options.fade===false)transition[_.transitionType]=_.transformType+' '+_.options.speed+'ms '+_.options.cssEase;else transition[_.transitionType]='opacity '+_.options.speed+'ms '+_.options.cssEase;if(_.options.fade===false)_.$slideTrack.css(transition);else _.$slides.eq(slide).css(transition);};Slick.prototype.autoPlay=function(){var _=this;_.autoPlayClear();if(_.slideCount>_.options.slidesToShow)_.autoPlayTimer=setInterval(_.autoPlayIterator,_.options.autoplaySpeed);};Slick.prototype.autoPlayClear=function(){var _=this;if(_.autoPlayTimer)clearInterval(_.autoPlayTimer);};Slick.prototype.autoPlayIterator=function(){var _=this,slideTo=_.currentSlide+_.options.slidesToScroll;if(!_.paused&&!_.interrupted&&!_.focussed){if(_.options.infinite===false)if(_.direction===1&&(_.currentSlide+1)===(_.slideCount-1))_.direction=0;else{if(_.direction===0){slideTo=_.currentSlide-_.options.slidesToScroll;if(_.currentSlide-1===0)_.direction=1;}}_.slideHandler(slideTo);}};Slick.prototype.buildArrows=function(){var _=this;if(_.options.arrows===true){_.$prevArrow=$(_.options.prevArrow).addClass('slick-arrow');_.$nextArrow=$(_.options.nextArrow).addClass('slick-arrow');if(_.slideCount>_.options.slidesToShow){_.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');_.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');if(_.htmlExpr.test(_.options.prevArrow))_.$prevArrow.prependTo(_.options.appendArrows);if(_.htmlExpr.test(_.options.nextArrow))_.$nextArrow.appendTo(_.options.appendArrows);if(_.options.infinite!==true)_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');}else _.$prevArrow.add(_.$nextArrow).addClass('slick-hidden').attr({'aria-disabled':'true','tabindex':'-1'});}};Slick.prototype.buildDots=function(){var _=this,i,dot;if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){_.$slider.addClass('slick-dotted');dot=$('<ul />').addClass(_.options.dotsClass);for(i=0;i<=_.getDotCount();i+=1)dot.append($('<li />').append(_.options.customPaging.call(this,_,i)));_.$dots=dot.appendTo(_.options.appendDots);_.$dots.find('li').first().addClass('slick-active');}};Slick.prototype.buildOut=function(){var _=this;_.$slides=_.$slider.children(_.options.slide+':not(.slick-cloned)').addClass('slick-slide');_.slideCount=_.$slides.length;_.$slides.each(function(index,element){$(element).attr('data-slick-index',index).data('originalStyling',$(element).attr('style')||'');});_.$slider.addClass('slick-slider');_.$slideTrack=(_.slideCount===0)?$('<div class="slick-track"/>').appendTo(_.$slider):_.$slides.wrapAll('<div class="slick-track"/>').parent();_.$list=_.$slideTrack.wrap('<div class="slick-list"/>').parent();_.$slideTrack.css('opacity',0);if(_.options.centerMode===true||_.options.swipeToSlide===true)_.options.slidesToScroll=1;$('img[data-lazy]',_.$slider).not('[src]').addClass('slick-loading');_.setupInfinite();_.buildArrows();_.buildDots();_.updateDots();_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);if(_.options.draggable===true)_.$list.addClass('draggable');};Slick.prototype.buildRows=function(){var _=this,a,b,c,newSlides,numOfSlides,originalSlides,slidesPerSection;newSlides=document.createDocumentFragment();originalSlides=_.$slider.children();if(_.options.rows>0){slidesPerSection=_.options.slidesPerRow*_.options.rows;numOfSlides=Math.ceil(originalSlides.length/slidesPerSection);for(a=0;a<numOfSlides;a++){var slide=document.createElement('div');for(b=0;b<_.options.rows;b++){var row=document.createElement('div');for(c=0;c<_.options.slidesPerRow;c++){var target=(a*slidesPerSection+((b*_.options.slidesPerRow)+c));if(originalSlides.get(target))row.appendChild(originalSlides.get(target));}slide.appendChild(row);}newSlides.appendChild(slide);}_.$slider.empty().append(newSlides);_.$slider.children().children().children().css({'width':(100/_.options.slidesPerRow)+'%','display':'inline-block'});}};Slick.prototype.checkResponsive=function(initial,forceUpdate){var _=this,breakpoint,targetBreakpoint,respondToWidth,triggerBreakpoint=false;var sliderWidth=_.$slider.width();var windowWidth=window.innerWidth||$(window).width();if(_.respondTo==='window')respondToWidth=windowWidth;else if(_.respondTo==='slider')respondToWidth=sliderWidth;else{if(_.respondTo==='min')respondToWidth=Math.min(windowWidth,sliderWidth);}if(_.options.responsive&&_.options.responsive.length&&_.options.responsive!==null){targetBreakpoint=null;for(breakpoint in _.breakpoints)if(_.breakpoints.hasOwnProperty(breakpoint))if(_.originalSettings.mobileFirst===false){if(respondToWidth<_.breakpoints[breakpoint])targetBreakpoint=_.breakpoints[breakpoint];}else{if(respondToWidth>_.breakpoints[breakpoint])targetBreakpoint=_.breakpoints[breakpoint];}if(targetBreakpoint!==null)if(_.activeBreakpoint!==null){if(targetBreakpoint!==_.activeBreakpoint||forceUpdate){_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick')_.unslick(targetBreakpoint);else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===true)_.currentSlide=_.options.initialSlide;_.refresh(initial);}triggerBreakpoint=targetBreakpoint;}}else{_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick')_.unslick(targetBreakpoint);else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===true)_.currentSlide=_.options.initialSlide;_.refresh(initial);}triggerBreakpoint=targetBreakpoint;}else{if(_.activeBreakpoint!==null){_.activeBreakpoint=null;_.options=_.originalSettings;if(initial===true)_.currentSlide=_.options.initialSlide;_.refresh(initial);triggerBreakpoint=targetBreakpoint;}}if(!initial&&triggerBreakpoint!==false)_.$slider.trigger('breakpoint',[_,triggerBreakpoint]);}};Slick.prototype.changeSlide=function(event,dontAnimate){var _=this,$target=$(event.currentTarget),indexOffset,slideOffset,unevenOffset;if($target.is('a'))event.preventDefault();if(!$target.is('li'))$target=$target.closest('li');localStorage.setItem('bodyPosition',window.pageYOffset);unevenOffset=(_.slideCount%_.options.slidesToScroll!==0);indexOffset=unevenOffset?0:(_.slideCount-_.currentSlide)%_.options.slidesToScroll;switch(event.data.message){case 'previous':slideOffset=indexOffset===0?_.options.slidesToScroll:_.options.slidesToShow-indexOffset;if(_.slideCount>_.options.slidesToShow)_.slideHandler(_.currentSlide-slideOffset,false,dontAnimate);break;case 'next':slideOffset=indexOffset===0?_.options.slidesToScroll:indexOffset;if(_.slideCount>_.options.slidesToShow)_.slideHandler(_.currentSlide+slideOffset,false,dontAnimate);break;case 'index':var index=event.data.index===0?0:event.data.index||$target.index()*_.options.slidesToScroll;_.slideHandler(_.checkNavigable(index),false,dontAnimate);$target.children().trigger('focus');break;default:return;}};Slick.prototype.checkNavigable=function(index){var _=this,navigables,prevNavigable;navigables=_.getNavigableIndexes();prevNavigable=0;if(index>navigables[navigables.length-1])index=navigables[navigables.length-1];else for(var n in navigables){if(index<navigables[n]){index=prevNavigable;break;}prevNavigable=navigables[n];}return index;};Slick.prototype.cleanUpEvents=function(){var _=this;if(_.options.dots&&_.$dots!==null){$('li',_.$dots).off('click.slick',_.changeSlide).off('mouseenter.slick',$.proxy(_.interrupt,_,true)).off('mouseleave.slick',$.proxy(_.interrupt,_,false));if(_.options.accessibility===true)_.$dots.off('keydown.slick',_.keyHandler);}_.$slider.off('focus.slick blur.slick');if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow&&_.$prevArrow.off('click.slick',_.changeSlide);_.$nextArrow&&_.$nextArrow.off('click.slick',_.changeSlide);if(_.options.accessibility===true){_.$prevArrow&&_.$prevArrow.off('keydown.slick',_.keyHandler);_.$nextArrow&&_.$nextArrow.off('keydown.slick',_.keyHandler);}}_.$list.off('touchstart.slick mousedown.slick',_.swipeHandler);_.$list.off('touchmove.slick mousemove.slick',_.swipeHandler);_.$list.off('touchend.slick mouseup.slick',_.swipeHandler);_.$list.off('touchcancel.slick mouseleave.slick',_.swipeHandler);_.$list.off('click.slick',_.clickHandler);$(document).off(_.visibilityChange,_.visibility);_.cleanUpSlideEvents();if(_.options.accessibility===true)_.$list.off('keydown.slick',_.keyHandler);if(_.options.focusOnSelect===true)$(_.$slideTrack).children().off('click.slick',_.selectHandler);$(window).off('orientationchange.slick.slick-'+_.instanceUid,_.orientationChange);$(window).off('resize.slick.slick-'+_.instanceUid,_.resize);$('[draggable!=true]',_.$slideTrack).off('dragstart',_.preventDefault);$(window).off('load.slick.slick-'+_.instanceUid,_.setPosition);};Slick.prototype.cleanUpSlideEvents=function(){var _=this;_.$list.off('mouseenter.slick',$.proxy(_.interrupt,_,true));_.$list.off('mouseleave.slick',$.proxy(_.interrupt,_,false));};Slick.prototype.cleanUpRows=function(){var _=this,originalSlides;if(_.options.rows>0){originalSlides=_.$slides.children().children();originalSlides.removeAttr('style');_.$slider.empty().append(originalSlides);}};Slick.prototype.clickHandler=function(event){var _=this;if(_.shouldClick===false){event.stopImmediatePropagation();event.stopPropagation();event.preventDefault();}};Slick.prototype.destroy=function(refresh){var _=this;_.autoPlayClear();_.touchObject={};_.cleanUpEvents();$('.slick-cloned',_.$slider).detach();if(_.$dots)_.$dots.remove();if(_.options.accessibility===true)_.$slider.removeAttr('role').removeAttr('aria-label');if(_.$prevArrow&&_.$prevArrow.length){_.$prevArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display','');if(_.htmlExpr.test(_.options.prevArrow))_.$prevArrow.remove();}if(_.$nextArrow&&_.$nextArrow.length){_.$nextArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display','');if(_.htmlExpr.test(_.options.nextArrow))_.$nextArrow.remove();}if(_.$slides){_.$slides.removeClass('slick-slide slick-active slick-center slick-visible slick-current').removeAttr('aria-hidden').removeAttr('data-slick-index').each(function(){$(this).attr('style',$(this).data('originalStyling'));});_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.detach();_.$list.detach();_.$slider.append(_.$slides);}_.cleanUpRows();_.$slider.removeClass('slick-slider');_.$slider.removeClass('slick-initialized');_.$slider.removeClass('slick-dotted');_.unslicked=true;if(!refresh)_.$slider.trigger('destroy',[_]);};Slick.prototype.disableTransition=function(slide){var _=this,transition={};transition[_.transitionType]='';if(_.options.fade===false)_.$slideTrack.css(transition);else _.$slides.eq(slide).css(transition);};Slick.prototype.fadeSlide=function(slideIndex,callback){var _=this;if(_.cssTransitions===false){_.$slides.eq(slideIndex).css({zIndex:_.options.zIndex});_.$slides.eq(slideIndex).animate({opacity:1},_.options.speed,_.options.easing,callback);}else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:1,zIndex:_.options.zIndex});if(callback)setTimeout(function(){_.disableTransition(slideIndex);callback.call();},_.options.speed);}};Slick.prototype.fadeSlideOut=function(slideIndex){var _=this;if(_.cssTransitions===false)_.$slides.eq(slideIndex).animate({opacity:0,zIndex:_.options.zIndex-2},_.options.speed,_.options.easing);else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:0,zIndex:_.options.zIndex-2});}};Slick.prototype.filterSlides=Slick.prototype.slickFilter=function(filter){var _=this;if(filter!==null){_.$slidesCache=_.$slides;_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.filter(filter).appendTo(_.$slideTrack);_.reinit();}};Slick.prototype.focusHandler=function(){var _=this;_.$slider.off('focus.slick blur.slick').on('focus.slick','*',function(event){var $sf=$(this);setTimeout(function(){if(_.options.pauseOnFocus)if($sf.is(':focus')){_.focussed=true;_.autoPlay();}},0);}).on('blur.slick','*',function(event){var $sf=$(this);if(_.options.pauseOnFocus||(_.options.focusOnChange&&_.focussed)){_.focussed=false;_.autoPlay();}});};Slick.prototype.getCurrent=Slick.prototype.slickCurrentSlide=function(){var _=this;return _.currentSlide;};Slick.prototype.getDotCount=function(){var _=this;var breakPoint=0;var counter=0;var pagerQty=0;if(_.options.infinite===true)if(_.slideCount<=_.options.slidesToShow)++pagerQty;else while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}else if(_.options.centerMode===true)pagerQty=_.slideCount;else if(!_.options.asNavFor)pagerQty=1+Math.ceil((_.slideCount-_.options.slidesToShow)/_.options.slidesToScroll);else while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}return pagerQty-1;};Slick.prototype.getLeft=function(slideIndex){var _=this,targetLeft,verticalHeight,verticalOffset=0,targetSlide,coef;_.slideOffset=0;verticalHeight=_.$slides.first().outerHeight(true);if(_.options.infinite===true){if(_.slideCount>_.options.slidesToShow){_.slideOffset=(_.slideWidth*_.options.slidesToShow)*-1;coef=-1;if(_.options.vertical===true&&_.options.centerMode===true)if(_.options.slidesToShow===2)coef=-1.5;else{if(_.options.slidesToShow===1)coef=-2;}verticalOffset=(verticalHeight*_.options.slidesToShow)*coef;}if(_.slideCount%_.options.slidesToScroll!==0)if(slideIndex+_.options.slidesToScroll>_.slideCount&&_.slideCount>_.options.slidesToShow)if(slideIndex>_.slideCount){_.slideOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*_.slideWidth)*-1;verticalOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*verticalHeight)*-1;}else{_.slideOffset=((_.slideCount%_.options.slidesToScroll)*_.slideWidth)*-1;verticalOffset=((_.slideCount%_.options.slidesToScroll)*verticalHeight)*-1;}}else{if(slideIndex+_.options.slidesToShow>_.slideCount){_.slideOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*_.slideWidth;verticalOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*verticalHeight;}}if(_.slideCount<=_.options.slidesToShow){_.slideOffset=0;verticalOffset=0;}if(_.options.centerMode===true&&_.slideCount<=_.options.slidesToShow)_.slideOffset=((_.slideWidth*Math.floor(_.options.slidesToShow))/2)-((_.slideWidth*_.slideCount)/2);else if(_.options.centerMode===true&&_.options.infinite===true)_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2)-_.slideWidth;else{if(_.options.centerMode===true){_.slideOffset=0;_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2);}}if(_.options.vertical===false)targetLeft=((slideIndex*_.slideWidth)*-1)+_.slideOffset;else targetLeft=((slideIndex*verticalHeight)*-1)+verticalOffset;if(_.options.variableWidth===true){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===false)targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex);else targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow);if(_.options.rtl===true)if(targetSlide[0])targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1;else targetLeft=0;else targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0;if(_.options.centerMode===true){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===false)targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex);else targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow+1);if(_.options.rtl===true)if(targetSlide[0])targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1;else targetLeft=0;else targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0;targetLeft+=(_.$list.width()-targetSlide.outerWidth())/2;}}return targetLeft;};Slick.prototype.getOption=Slick.prototype.slickGetOption=function(option){var _=this;return _.options[option];};Slick.prototype.getNavigableIndexes=function(){var _=this,breakPoint=0,counter=0,indexes=[],max;if(_.options.infinite===false)max=_.slideCount;else{breakPoint=_.options.slidesToScroll*-1;counter=_.options.slidesToScroll*-1;max=_.slideCount*2;}while(breakPoint<max){indexes.push(breakPoint);breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}return indexes;};Slick.prototype.getSlick=function(){return this;};Slick.prototype.getSlideCount=function(){var _=this,slidesTraversed,swipedSlide,swipeTarget,centerOffset;centerOffset=_.options.centerMode===true?Math.floor(_.$list.width()/2):0;swipeTarget=(_.swipeLeft*-1)+centerOffset;if(_.options.swipeToSlide===true){_.$slideTrack.find('.slick-slide').each(function(index,slide){var slideOuterWidth,slideOffset,slideRightBoundary;slideOuterWidth=$(slide).outerWidth();slideOffset=slide.offsetLeft;if(_.options.centerMode!==true)slideOffset+=(slideOuterWidth/2);slideRightBoundary=slideOffset+(slideOuterWidth);if(swipeTarget<slideRightBoundary){swipedSlide=slide;return false;}});slidesTraversed=Math.abs($(swipedSlide).attr('data-slick-index')-_.currentSlide)||1;return slidesTraversed;}else return _.options.slidesToScroll;};Slick.prototype.goTo=Slick.prototype.slickGoTo=function(slide,dontAnimate){var _=this;_.changeSlide({data:{message:'index',index:parseInt(slide)}},dontAnimate);};Slick.prototype.init=function(creation){var _=this;if(!$(_.$slider).hasClass('slick-initialized')){$(_.$slider).addClass('slick-initialized');_.buildRows();_.buildOut();_.setProps();_.startLoad();_.loadSlider();_.initializeEvents();_.updateArrows();_.updateDots();_.checkResponsive(true);_.focusHandler();}if(creation)_.$slider.trigger('init',[_]);if(_.options.accessibility===true)_.initADA();if(_.options.autoplay){_.paused=false;_.autoPlay();}};Slick.prototype.initADA=function(){var _=this,numDotGroups=Math.ceil(_.slideCount/_.options.slidesToShow),tabControlIndexes=_.getNavigableIndexes().filter(function(val){return (val>=0)&&(val<_.slideCount);});_.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({'aria-hidden':'true','tabindex':'-1','role':'region','aria-label':'Slide'}).find('a, input, button, select').attr({'tabindex':'-1'});if(_.$dots!==null){_.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i){var slideControlIndex=tabControlIndexes.indexOf(i);$(this).attr({'role':'tabpanel','id':'slick-slide'+_.instanceUid+i,'tabindex':-1});if(slideControlIndex!==-1){var ariaButtonControl='slick-slide-control'+_.instanceUid+slideControlIndex;if($('#'+ariaButtonControl).length)$(this).attr({'aria-label':'Slide'+(slideControlIndex+1)});}});_.$dots.attr('role','tablist').find('li').each(function(i){var mappedSlideIndex=tabControlIndexes[i];$(this).attr({'role':'presentation'});$(this).find('button').first().attr({'role':'tab','id':'slick-slide-control'+_.instanceUid+i,'aria-controls':'slick-slide'+_.instanceUid+mappedSlideIndex,'aria-selected':null,'tabindex':'-1'});}).eq(_.currentSlide).find('button').attr({'aria-selected':'true','tabindex':'0'}).end();}for(var i=_.currentSlide,max=i+_.options.slidesToShow;i<max;i++)if(_.options.focusOnChange)_.$slides.eq(i).attr({'tabindex':'0'});else _.$slides.eq(i).removeAttr('tabindex');_.activateADA();_.$slider.attr({'role':'region','aria-label':'carousel'});};Slick.prototype.initArrowEvents=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.off('click.slick').on('click.slick',{message:'previous'},_.changeSlide);_.$nextArrow.off('click.slick').on('click.slick',{message:'next'},_.changeSlide);if(_.options.accessibility===true){_.$prevArrow.on('keydown.slick',_.keyHandler);_.$nextArrow.on('keydown.slick',_.keyHandler);}}};Slick.prototype.initDotEvents=function(){var _=this;if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){$('li',_.$dots).on('click.slick',{message:'index'},_.changeSlide);if(_.options.accessibility===true)_.$dots.on('keydown.slick',_.keyHandler);}if(_.options.dots===true&&_.options.pauseOnDotsHover===true&&_.slideCount>_.options.slidesToShow)$('li',_.$dots).on('mouseenter.slick',$.proxy(_.interrupt,_,true)).on('mouseleave.slick',$.proxy(_.interrupt,_,false));};Slick.prototype.initSlideEvents=function(){var _=this;if(_.options.pauseOnHover){_.$list.on('mouseenter.slick',$.proxy(_.interrupt,_,true));_.$list.on('mouseleave.slick',$.proxy(_.interrupt,_,false));}};Slick.prototype.initializeEvents=function(){var _=this;_.initArrowEvents();_.initDotEvents();_.initSlideEvents();_.$list.on('touchstart.slick mousedown.slick',{action:'start'},_.swipeHandler);_.$list.on('touchmove.slick mousemove.slick',{action:'move'},_.swipeHandler);_.$list.on('touchend.slick mouseup.slick',{action:'end'},_.swipeHandler);_.$list.on('touchcancel.slick mouseleave.slick',{action:'end'},_.swipeHandler);_.$list.on('click.slick',_.clickHandler);$(document).on(_.visibilityChange,$.proxy(_.visibility,_));if(_.options.accessibility===true)_.$list.on('keydown.slick',_.keyHandler);if(_.options.focusOnSelect===true)$(_.$slideTrack).children().on('click.slick',_.selectHandler);$(window).on('orientationchange.slick.slick-'+_.instanceUid,$.proxy(_.orientationChange,_));$(window).on('resize.slick.slick-'+_.instanceUid,$.proxy(_.resize,_));$('[draggable!=true]',_.$slideTrack).on('dragstart',_.preventDefault);$(window).on('load.slick.slick-'+_.instanceUid,_.setPosition);$(_.setPosition);};Slick.prototype.initUI=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.show();_.$nextArrow.show();}if(_.options.dots===true&&_.slideCount>_.options.slidesToShow)_.$dots.show();};Slick.prototype.keyHandler=function(event){var _=this;if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT'))if(event.keyCode===37&&_.options.accessibility===true)_.changeSlide({data:{message:_.options.rtl===true?'next':'previous'}});else{if(event.keyCode===39&&_.options.accessibility===true)_.changeSlide({data:{message:_.options.rtl===true?'previous':'next'}});}};Slick.prototype.lazyLoad=function(){var _=this,loadRange,cloneRange,rangeStart,rangeEnd;function loadImages(imagesScope){$('img[data-lazy]',imagesScope).each(function(){var image=$(this),imageSource=$(this).attr('data-lazy'),imageSrcSet=$(this).attr('data-srcset'),imageSizes=$(this).attr('data-sizes')||_.$slider.attr('data-sizes'),imageToLoad=document.createElement('img');imageToLoad.onload=function(){image.animate({opacity:0},100,function(){if(imageSrcSet){image.attr('srcset',imageSrcSet);if(imageSizes)image.attr('sizes',imageSizes);}image.attr('src',imageSource).animate({opacity:1},200,function(){image.removeAttr('data-lazy data-srcset data-sizes').removeClass('slick-loading');});_.$slider.trigger('lazyLoaded',[_,image,imageSource]);});};imageToLoad.onerror=function(){image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');_.$slider.trigger('lazyLoadError',[_,image,imageSource]);};imageToLoad.src=imageSource;});}if(_.options.centerMode===true)if(_.options.infinite===true){rangeStart=_.currentSlide+(_.options.slidesToShow/2+1);rangeEnd=rangeStart+_.options.slidesToShow+2;}else{rangeStart=Math.max(0,_.currentSlide-(_.options.slidesToShow/2+1));rangeEnd=2+(_.options.slidesToShow/2+1)+_.currentSlide;}else{rangeStart=_.options.infinite?_.options.slidesToShow+_.currentSlide:_.currentSlide;rangeEnd=Math.ceil(rangeStart+_.options.slidesToShow);if(_.options.fade===true){if(rangeStart>0)rangeStart--;if(rangeEnd<=_.slideCount)rangeEnd++;}}loadRange=_.$slider.find('.slick-slide').slice(rangeStart,rangeEnd);if(_.options.lazyLoad==='anticipated'){var prevSlide=rangeStart-1,nextSlide=rangeEnd,$slides=_.$slider.find('.slick-slide');for(var i=0;i<_.options.slidesToScroll;i++){if(prevSlide<0)prevSlide=_.slideCount-1;loadRange=loadRange.add($slides.eq(prevSlide));loadRange=loadRange.add($slides.eq(nextSlide));prevSlide--;nextSlide++;}}loadImages(loadRange);if(_.slideCount<=_.options.slidesToShow){cloneRange=_.$slider.find('.slick-slide');loadImages(cloneRange);}else if(_.currentSlide>=_.slideCount-_.options.slidesToShow){cloneRange=_.$slider.find('.slick-cloned').slice(0,_.options.slidesToShow);loadImages(cloneRange);}else{if(_.currentSlide===0){cloneRange=_.$slider.find('.slick-cloned').slice(_.options.slidesToShow*-1);loadImages(cloneRange);}}};Slick.prototype.loadSlider=function(){var _=this;_.setPosition();_.$slideTrack.css({opacity:1});_.$slider.removeClass('slick-loading');_.initUI();if(_.options.lazyLoad==='progressive')_.progressiveLazyLoad();};Slick.prototype.next=Slick.prototype.slickNext=function(){var _=this;_.changeSlide({data:{message:'next'}});};Slick.prototype.orientationChange=function(){var _=this;_.checkResponsive();_.setPosition();};Slick.prototype.pause=Slick.prototype.slickPause=function(){var _=this;_.autoPlayClear();_.paused=true;};Slick.prototype.play=Slick.prototype.slickPlay=function(){var _=this;_.autoPlay();_.options.autoplay=true;_.paused=false;_.focussed=false;_.interrupted=false;};Slick.prototype.postSlide=function(index){var _=this;if(!_.unslicked){_.$slider.trigger('afterChange',[_,index]);_.animating=false;if(_.slideCount>_.options.slidesToShow)_.setPosition();_.swipeLeft=null;if(_.options.autoplay)_.autoPlay();if(_.options.accessibility===true){_.initADA();if(_.options.focusOnChange){var $currentSlide=$(_.$slides.get(_.currentSlide));$currentSlide.attr('tabindex',0);if(_.focussed){var sliderPosition=localStorage.getItem('bodyPosition');$currentSlide.focus();if(sliderPosition!==null){var oldPosition=parseInt(sliderPosition,10);var newPosition=window.pageYOffset;let diff=oldPosition-newPosition;window.scrollBy(0,diff);}}}localStorage.removeItem('bodyPosition');}}};Slick.prototype.prev=Slick.prototype.slickPrev=function(){var _=this;_.changeSlide({data:{message:'previous'}});};Slick.prototype.preventDefault=function(event){event.preventDefault();};Slick.prototype.progressiveLazyLoad=function(tryCount){tryCount=tryCount||1;var _=this,$imgsToLoad=$('img[data-lazy]',_.$slider),image,imageSource,imageSrcSet,imageSizes,imageToLoad;if($imgsToLoad.length){image=$imgsToLoad.first();imageSource=image.attr('data-lazy');imageSrcSet=image.attr('data-srcset');imageSizes=image.attr('data-sizes')||_.$slider.attr('data-sizes');imageToLoad=document.createElement('img');imageToLoad.onload=function(){if(imageSrcSet){image.attr('srcset',imageSrcSet);if(imageSizes)image.attr('sizes',imageSizes);}image.attr('src',imageSource).removeAttr('data-lazy data-srcset data-sizes').removeClass('slick-loading');if(_.options.adaptiveHeight===true)_.setPosition();_.$slider.trigger('lazyLoaded',[_,image,imageSource]);_.progressiveLazyLoad();};imageToLoad.onerror=function(){if(tryCount<3)setTimeout(function(){_.progressiveLazyLoad(tryCount+1);},500);else{image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');_.$slider.trigger('lazyLoadError',[_,image,imageSource]);_.progressiveLazyLoad();}};imageToLoad.src=imageSource;}else _.$slider.trigger('allImagesLoaded',[_]);};Slick.prototype.refresh=function(initializing){var _=this,currentSlide,lastVisibleIndex;lastVisibleIndex=_.slideCount-_.options.slidesToShow;if(!_.options.infinite&&(_.currentSlide>lastVisibleIndex))_.currentSlide=lastVisibleIndex;if(_.slideCount<=_.options.slidesToShow)_.currentSlide=0;currentSlide=_.currentSlide;_.destroy(true);$.extend(_,_.initials,{currentSlide});_.init();if(!initializing)_.changeSlide({data:{message:'index',index:currentSlide}},false);};Slick.prototype.registerBreakpoints=function(){var _=this,breakpoint,currentBreakpoint,l,responsiveSettings=_.options.responsive||null;if($.type(responsiveSettings)==='array'&&responsiveSettings.length){_.respondTo=_.options.respondTo||'window';for(breakpoint in responsiveSettings){l=_.breakpoints.length-1;if(responsiveSettings.hasOwnProperty(breakpoint)){currentBreakpoint=responsiveSettings[breakpoint].breakpoint;while(l>=0){if(_.breakpoints[l]&&_.breakpoints[l]===currentBreakpoint)_.breakpoints.splice(l,1);l--;}_.breakpoints.push(currentBreakpoint);_.breakpointSettings[currentBreakpoint]=responsiveSettings[breakpoint].settings;}}_.breakpoints.sort(function(a,b){return (_.options.mobileFirst)?a-b:b-a;});}};Slick.prototype.reinit=function(){var _=this;_.$slides=_.$slideTrack.children(_.options.slide).addClass('slick-slide');_.slideCount=_.$slides.length;if(_.currentSlide>=_.slideCount&&_.currentSlide!==0)_.currentSlide=_.currentSlide-_.options.slidesToScroll;if(_.slideCount<=_.options.slidesToShow)_.currentSlide=0;_.registerBreakpoints();_.setProps();_.setupInfinite();_.buildArrows();_.updateArrows();_.initArrowEvents();_.buildDots();_.updateDots();_.initDotEvents();_.cleanUpSlideEvents();_.initSlideEvents();_.checkResponsive(false,true);if(_.options.focusOnSelect===true)$(_.$slideTrack).children().on('click.slick',_.selectHandler);_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);_.setPosition();_.focusHandler();_.paused=!_.options.autoplay;_.autoPlay();_.$slider.trigger('reInit',[_]);};Slick.prototype.resize=function(){var _=this;if($(window).width()!==_.windowWidth){clearTimeout(_.windowDelay);_.windowDelay=window.setTimeout(function(){_.windowWidth=$(window).width();_.checkResponsive();if(!_.unslicked)_.setPosition();},50);}};Slick.prototype.removeSlide=Slick.prototype.slickRemove=function(index,removeBefore,removeAll){var _=this;if(typeof (index)==='boolean'){removeBefore=index;index=removeBefore===true?0:_.slideCount-1;}else index=removeBefore===true?--index:index;if(_.slideCount<1||index<0||index>_.slideCount-1)return false;_.unload();if(removeAll===true)_.$slideTrack.children().remove();else _.$slideTrack.children(this.options.slide).eq(index).remove();_.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slidesCache=_.$slides;_.reinit();};Slick.prototype.setCSS=function(position){var _=this,positionProps={},x,y;if(_.options.rtl===true)position=-position;x=_.positionProp=='left'?Math.ceil(position)+'px':'0px';y=_.positionProp=='top'?Math.ceil(position)+'px':'0px';positionProps[_.positionProp]=position;if(_.transformsEnabled===false)_.$slideTrack.css(positionProps);else{positionProps={};if(_.cssTransitions===false){positionProps[_.animType]='translate('+x+', '+y+')';_.$slideTrack.css(positionProps);}else{positionProps[_.animType]='translate3d('+x+', '+y+', 0px)';_.$slideTrack.css(positionProps);}}};Slick.prototype.setDimensions=function(){var _=this;if(_.options.vertical===false){if(_.options.centerMode===true)_.$list.css({padding:('0px '+_.options.centerPadding)});}else{_.$list.height(_.$slides.first().outerHeight(true)*_.options.slidesToShow);if(_.options.centerMode===true)_.$list.css({padding:(_.options.centerPadding+' 0px')});}_.listWidth=_.$list.width();_.listHeight=_.$list.height();if(_.options.vertical===false&&_.options.variableWidth===false){_.slideWidth=Math.ceil(_.listWidth/_.options.slidesToShow);_.$slideTrack.width(Math.ceil((_.slideWidth*_.$slideTrack.children('.slick-slide').length)));}else if(_.options.variableWidth===true)_.$slideTrack.width(5000*_.slideCount);else{_.slideWidth=Math.ceil(_.listWidth);_.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true)*_.$slideTrack.children('.slick-slide').length)));}var offset=_.$slides.first().outerWidth(true)-_.$slides.first().width();if(_.options.variableWidth===false)_.$slideTrack.children('.slick-slide').width(_.slideWidth-offset);};Slick.prototype.setFade=function(){var _=this,targetLeft;_.$slides.each(function(index,element){targetLeft=(_.slideWidth*index)*-1;if(_.options.rtl===true)$(element).css({position:'relative',right:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0});else $(element).css({position:'relative',left:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0});});_.$slides.eq(_.currentSlide).css({zIndex:_.options.zIndex-1,opacity:1});};Slick.prototype.setHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===true&&_.options.vertical===false){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(true);_.$list.css('height',targetHeight);}};Slick.prototype.setOption=Slick.prototype.slickSetOption=function(){var _=this,l,item,option,value,refresh=false,type;if($.type(arguments[0])==='object'){option=arguments[0];refresh=arguments[1];type='multiple';}else{if($.type(arguments[0])==='string'){option=arguments[0];value=arguments[1];refresh=arguments[2];if(arguments[0]==='responsive'&&$.type(arguments[1])==='array')type='responsive';else{if(typeof arguments[1]!=='undefined')type='single';}}}if(type==='single')_.options[option]=value;else if(type==='multiple')$.each(option,function(opt,val){_.options[opt]=val;});else{if(type==='responsive')for(item in value)if($.type(_.options.responsive)!=='array')_.options.responsive=[value[item]];else{l=_.options.responsive.length-1;while(l>=0){if(_.options.responsive[l].breakpoint===value[item].breakpoint)_.options.responsive.splice(l,1);l--;}_.options.responsive.push(value[item]);}}if(refresh){_.unload();_.reinit();}};Slick.prototype.setPosition=function(){var _=this;_.setDimensions();_.setHeight();if(_.options.fade===false)_.setCSS(_.getLeft(_.currentSlide));else _.setFade();_.$slider.trigger('setPosition',[_]);};Slick.prototype.setProps=function(){var _=this,bodyStyle=document.body.style;_.positionProp=_.options.vertical===true?'top':'left';if(_.positionProp==='top')_.$slider.addClass('slick-vertical');else _.$slider.removeClass('slick-vertical');if(bodyStyle.WebkitTransition!==undefined||bodyStyle.MozTransition!==undefined||bodyStyle.msTransition!==undefined)if(_.options.useCSS===true)_.cssTransitions=true;if(_.options.fade)if(typeof _.options.zIndex==='number'){if(_.options.zIndex<3)_.options.zIndex=3;}else _.options.zIndex=_.defaults.zIndex;if(bodyStyle.OTransform!==undefined){_.animType='OTransform';_.transformType='-o-transform';_.transitionType='OTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=false;}if(bodyStyle.MozTransform!==undefined){_.animType='MozTransform';_.transformType='-moz-transform';_.transitionType='MozTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.MozPerspective===undefined)_.animType=false;}if(bodyStyle.webkitTransform!==undefined){_.animType='webkitTransform';_.transformType='-webkit-transform';_.transitionType='webkitTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=false;}if(bodyStyle.msTransform!==undefined){_.animType='msTransform';_.transformType='-ms-transform';_.transitionType='msTransition';if(bodyStyle.msTransform===undefined)_.animType=false;}if(bodyStyle.transform!==undefined&&_.animType!==false){_.animType='transform';_.transformType='transform';_.transitionType='transition';}_.transformsEnabled=_.options.useTransform&&(_.animType!==null&&_.animType!==false);};Slick.prototype.setSlideClasses=function(index){var _=this,centerOffset,allSlides,indexOffset,remainder;allSlides=_.$slider.find('.slick-slide').removeClass('slick-active slick-center slick-current').attr('aria-hidden','true');_.$slides.eq(index).addClass('slick-current');if(_.options.centerMode===true){var evenCoef=_.options.slidesToShow%2===0?1:0;centerOffset=Math.floor(_.options.slidesToShow/2);if(_.options.infinite===true){if(index>=centerOffset&&index<=(_.slideCount-1)-centerOffset)_.$slides.slice(index-centerOffset+evenCoef,index+centerOffset+1).addClass('slick-active').attr('aria-hidden','false');else{indexOffset=_.options.slidesToShow+index;allSlides.slice(indexOffset-centerOffset+1+evenCoef,indexOffset+centerOffset+2).addClass('slick-active').attr('aria-hidden','false');}if(index===0)allSlides.eq(allSlides.length-1-_.options.slidesToShow).addClass('slick-center');else{if(index===_.slideCount-1)allSlides.eq(_.options.slidesToShow).addClass('slick-center');}}_.$slides.eq(index).addClass('slick-center');}else if(index>=0&&index<=(_.slideCount-_.options.slidesToShow))_.$slides.slice(index,index+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false');else if(allSlides.length<=_.options.slidesToShow)allSlides.addClass('slick-active').attr('aria-hidden','false');else{remainder=_.slideCount%_.options.slidesToShow;indexOffset=_.options.infinite===true?_.options.slidesToShow+index:index;if(_.options.slidesToShow==_.options.slidesToScroll&&(_.slideCount-index)<_.options.slidesToShow)allSlides.slice(indexOffset-(_.options.slidesToShow-remainder),indexOffset+remainder).addClass('slick-active').attr('aria-hidden','false');else allSlides.slice(indexOffset,indexOffset+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false');}if(_.options.lazyLoad==='ondemand'||_.options.lazyLoad==='anticipated')_.lazyLoad();};Slick.prototype.setupInfinite=function(){var _=this,i,slideIndex,infiniteCount;if(_.options.fade===true)_.options.centerMode=false;if(_.options.infinite===true&&_.options.fade===false){slideIndex=null;if(_.slideCount>_.options.slidesToShow){if(_.options.centerMode===true)infiniteCount=_.options.slidesToShow+1;else infiniteCount=_.options.slidesToShow;for(i=_.slideCount;i>(_.slideCount-infiniteCount);i-=1){slideIndex=i-1;$(_.$slides[slideIndex]).clone(true).attr('id','').attr('data-slick-index',slideIndex-_.slideCount).prependTo(_.$slideTrack).addClass('slick-cloned');}for(i=0;i<infiniteCount+_.slideCount;i+=1){slideIndex=i;$(_.$slides[slideIndex]).clone(true).attr('id','').attr('data-slick-index',slideIndex+_.slideCount).appendTo(_.$slideTrack).addClass('slick-cloned');}_.$slideTrack.find('.slick-cloned').find('[id]').each(function(){$(this).attr('id','');});}}};Slick.prototype.interrupt=function(toggle){var _=this;if(!toggle)_.autoPlay();_.interrupted=toggle;};Slick.prototype.selectHandler=function(event){var _=this;var targetElement=$(event.target).is('.slick-slide')?$(event.target):$(event.target).parents('.slick-slide');var index=parseInt(targetElement.attr('data-slick-index'));if(!index)index=0;if(_.slideCount<=_.options.slidesToShow){_.slideHandler(index,false,true);return;}_.slideHandler(index);};Slick.prototype.slideHandler=function(index,sync,dontAnimate){var targetSlide,animSlide,oldSlide,slideLeft,targetLeft=null,_=this,navTarget;sync=sync||false;if(_.animating===true&&_.options.waitForAnimate===true)return;if(_.options.fade===true&&_.currentSlide===index)return;if(sync===false)_.asNavFor(index);targetSlide=index;targetLeft=_.getLeft(targetSlide);slideLeft=_.getLeft(_.currentSlide);_.currentLeft=_.swipeLeft===null?slideLeft:_.swipeLeft;if(_.options.infinite===false&&_.options.centerMode===false&&(index<0||index>_.getDotCount()*_.options.slidesToScroll)){if(_.options.fade===false){targetSlide=_.currentSlide;if(dontAnimate!==true&&_.slideCount>_.options.slidesToShow)_.animateSlide(slideLeft,function(){_.postSlide(targetSlide);});else _.postSlide(targetSlide);}return;}else{if(_.options.infinite===false&&_.options.centerMode===true&&(index<0||index>(_.slideCount-_.options.slidesToScroll))){if(_.options.fade===false){targetSlide=_.currentSlide;if(dontAnimate!==true&&_.slideCount>_.options.slidesToShow)_.animateSlide(slideLeft,function(){_.postSlide(targetSlide);});else _.postSlide(targetSlide);}return;}}if(_.options.autoplay)clearInterval(_.autoPlayTimer);if(targetSlide<0)if(_.slideCount%_.options.slidesToScroll!==0)animSlide=_.slideCount-(_.slideCount%_.options.slidesToScroll);else animSlide=_.slideCount+targetSlide;else if(targetSlide>=_.slideCount)if(_.slideCount%_.options.slidesToScroll!==0)animSlide=0;else animSlide=targetSlide-_.slideCount;else animSlide=targetSlide;_.animating=true;_.$slider.trigger('beforeChange',[_,_.currentSlide,animSlide]);oldSlide=_.currentSlide;_.currentSlide=animSlide;_.setSlideClasses(_.currentSlide);if(_.options.asNavFor){navTarget=_.getNavTarget();navTarget=navTarget.slick('getSlick');if(navTarget.slideCount<=navTarget.options.slidesToShow)navTarget.setSlideClasses(_.currentSlide);}_.updateDots();_.updateArrows();if(_.options.fade===true){if(dontAnimate!==true){_.fadeSlideOut(oldSlide);_.fadeSlide(animSlide,function(){_.postSlide(animSlide);});}else _.postSlide(animSlide);_.animateHeight();return;}if(dontAnimate!==true&&_.slideCount>_.options.slidesToShow)_.animateSlide(targetLeft,function(){_.postSlide(animSlide);});else _.postSlide(animSlide);};Slick.prototype.startLoad=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.hide();_.$nextArrow.hide();}if(_.options.dots===true&&_.slideCount>_.options.slidesToShow)_.$dots.hide();_.$slider.addClass('slick-loading');};Slick.prototype.swipeDirection=function(){var xDist,yDist,r,swipeAngle,_=this;xDist=_.touchObject.startX-_.touchObject.curX;yDist=_.touchObject.startY-_.touchObject.curY;r=Math.atan2(yDist,xDist);swipeAngle=Math.round(r*180/Math.PI);if(swipeAngle<0)swipeAngle=360-Math.abs(swipeAngle);if((swipeAngle<=45)&&(swipeAngle>=0))return (_.options.rtl===false?'left':'right');if((swipeAngle<=360)&&(swipeAngle>=315))return (_.options.rtl===false?'left':'right');if((swipeAngle>=135)&&(swipeAngle<=225))return (_.options.rtl===false?'right':'left');if(_.options.verticalSwiping===true)if((swipeAngle>=35)&&(swipeAngle<=135))return 'down';else return 'up';return 'vertical';};Slick.prototype.swipeEnd=function(event){var _=this,slideCount,direction;_.dragging=false;_.swiping=false;if(_.scrolling){_.scrolling=false;return false;}_.interrupted=false;_.shouldClick=(_.touchObject.swipeLength>10)?false:true;if(_.touchObject.curX===undefined)return false;if(_.touchObject.edgeHit===true)_.$slider.trigger('edge',[_,_.swipeDirection()]);if(_.touchObject.swipeLength>=_.touchObject.minSwipe){direction=_.swipeDirection();switch(direction){case 'left':case 'down':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide+_.getSlideCount()):_.currentSlide+_.getSlideCount();_.currentDirection=0;break;case 'right':case 'up':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide-_.getSlideCount()):_.currentSlide-_.getSlideCount();_.currentDirection=1;break;default:}if(direction!='vertical'){_.slideHandler(slideCount);_.touchObject={};_.$slider.trigger('swipe',[_,direction]);}}else{if(_.touchObject.startX!==_.touchObject.curX){_.slideHandler(_.currentSlide);_.touchObject={};}}};Slick.prototype.swipeHandler=function(event){var _=this;if((_.options.swipe===false)||('ontouchend' in document&&_.options.swipe===false))return;else{if(_.options.draggable===false&&event.type.indexOf('mouse')!==-1)return;}_.touchObject.fingerCount=event.originalEvent&&event.originalEvent.touches!==undefined?event.originalEvent.touches.length:1;_.touchObject.minSwipe=_.listWidth/_.options.touchThreshold;if(_.options.verticalSwiping===true)_.touchObject.minSwipe=_.listHeight/_.options.touchThreshold;switch(event.data.action){case 'start':_.swipeStart(event);break;case 'move':_.swipeMove(event);break;case 'end':_.swipeEnd(event);break;}};Slick.prototype.swipeMove=function(event){var _=this,edgeWasHit=false,curLeft,swipeDirection,swipeLength,positionOffset,touches,verticalSwipeLength;touches=event.originalEvent!==undefined?event.originalEvent.touches:null;if(!_.dragging||_.scrolling||touches&&touches.length!==1)return false;curLeft=_.getLeft(_.currentSlide);_.touchObject.curX=touches!==undefined?touches[0].pageX:event.clientX;_.touchObject.curY=touches!==undefined?touches[0].pageY:event.clientY;_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curX-_.touchObject.startX,2)));verticalSwipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curY-_.touchObject.startY,2)));if(!_.options.verticalSwiping&&!_.swiping&&verticalSwipeLength>4){_.scrolling=true;return false;}if(_.options.verticalSwiping===true)_.touchObject.swipeLength=verticalSwipeLength;swipeDirection=_.swipeDirection();if(event.originalEvent!==undefined&&_.touchObject.swipeLength>4){_.swiping=true;event.preventDefault();}positionOffset=(_.options.rtl===false?1:-1)*(_.touchObject.curX>_.touchObject.startX?1:-1);if(_.options.verticalSwiping===true)positionOffset=_.touchObject.curY>_.touchObject.startY?1:-1;swipeLength=_.touchObject.swipeLength;_.touchObject.edgeHit=false;if(_.options.infinite===false)if((_.currentSlide===0&&swipeDirection==='right')||(_.currentSlide>=_.getDotCount()&&swipeDirection==='left')){swipeLength=_.touchObject.swipeLength*_.options.edgeFriction;_.touchObject.edgeHit=true;}if(_.options.vertical===false)_.swipeLeft=curLeft+swipeLength*positionOffset;else _.swipeLeft=curLeft+(swipeLength*(_.$list.height()/_.listWidth))*positionOffset;if(_.options.verticalSwiping===true)_.swipeLeft=curLeft+swipeLength*positionOffset;if(_.options.fade===true||_.options.touchMove===false)return false;if(_.animating===true){_.swipeLeft=null;return false;}_.setCSS(_.swipeLeft);};Slick.prototype.swipeStart=function(event){var _=this,touches;_.interrupted=true;if(_.touchObject.fingerCount!==1||_.slideCount<=_.options.slidesToShow){_.touchObject={};return false;}if(event.originalEvent!==undefined&&event.originalEvent.touches!==undefined)touches=event.originalEvent.touches[0];_.touchObject.startX=_.touchObject.curX=touches!==undefined?touches.pageX:event.clientX;_.touchObject.startY=_.touchObject.curY=touches!==undefined?touches.pageY:event.clientY;_.dragging=true;};Slick.prototype.unfilterSlides=Slick.prototype.slickUnfilter=function(){var _=this;if(_.$slidesCache!==null){_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.appendTo(_.$slideTrack);_.reinit();}};Slick.prototype.unload=function(){var _=this;$('.slick-cloned',_.$slider).remove();if(_.$dots)_.$dots.remove();if(_.$prevArrow&&_.htmlExpr.test(_.options.prevArrow))_.$prevArrow.remove();if(_.$nextArrow&&_.htmlExpr.test(_.options.nextArrow))_.$nextArrow.remove();_.$slides.removeClass('slick-slide slick-active slick-visible slick-current').attr('aria-hidden','true').css('width','');};Slick.prototype.unslick=function(fromBreakpoint){var _=this;_.$slider.trigger('unslick',[_,fromBreakpoint]);_.destroy();};Slick.prototype.updateArrows=function(){var _=this,centerOffset;centerOffset=Math.floor(_.options.slidesToShow/2);if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow&&!_.options.infinite){_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');if(_.currentSlide===0){_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');}else if(_.currentSlide>=_.slideCount-_.options.slidesToShow&&_.options.centerMode===false){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');}else{if(_.currentSlide>=_.slideCount-1&&_.options.centerMode===true){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');}}}};Slick.prototype.updateDots=function(){var _=this;if(_.$dots!==null){_.$dots.find('li').removeClass('slick-active').end();_.$dots.find('li').eq(Math.floor(_.currentSlide/_.options.slidesToScroll)).addClass('slick-active');}};Slick.prototype.visibility=function(){var _=this;if(_.options.autoplay)if(document[_.hidden])_.interrupted=true;else _.interrupted=false;};$.fn.slick=function(){var _=this,opt=arguments[0],args=Array.prototype.slice.call(arguments,1),l=_.length,i,ret;for(i=0;i<l;i++){if(typeof opt=='object'||typeof opt=='undefined')_[i].slick=new Slick(_[i],opt);else ret=_[i].slick[opt].apply(_[i].slick,args);if(typeof ret!='undefined')return ret;}return _;};}));;
(function($,Drupal,window,document){'use strict';Drupal.behaviors.pennCKEditorAddClass={attach:function(context,settings){context=context||document;settings=settings||Drupal.settings;$('.field--type-text-long .ck-editor__main').addClass('wysiwyg');$('.ck-editor__top').addClass('wysiwyg');}};})(jQuery,Drupal,window,document);;
(function($,Drupal,window,document){'use strict';var selectedColor;var potentialColors=[];var constantClasses="";Drupal.behaviors.pennCKEditorBgcolor={attach:function(context,settings){context=context||document;settings=settings||Drupal.settings;if(settings.penn_ckeditor.textarea_bgcolor.constantClasses)constantClasses=settings.penn_ckeditor.textarea_bgcolor.constantClasses;var classPrefix="";if(settings.penn_ckeditor.textarea_bgcolor.dropdownClassPrefix)classPrefix=settings.penn_ckeditor.textarea_bgcolor.dropdownClassPrefix;var $colorDropdown=$(settings.penn_ckeditor.textarea_bgcolor.dropdownID);selectedColor=classPrefix+$colorDropdown.val();$(once('processed-colors',$colorDropdown)).find('option').each(function(){var newClasses=$(this).val().split(' ');for(var j in newClasses)if($.inArray(newClasses[j],potentialColors)===-1)potentialColors.push(classPrefix+newClasses[j]);console.log("potential colors: "+potentialColors);});switchColor();$colorDropdown.on('change',function(){selectedColor=classPrefix+$colorDropdown.val();console.log("selected color: "+selectedColor);switchColor();});function addClass(elementToAddto,classtoAdd){$(elementToAddto).addClass(classtoAdd);}function switchColor(){console.log("switching color");$('.ck-editor__main').each(function(){var currentClasses=$(this).prop('classList');console.log(currentClasses);for(var i in currentClasses)if($.inArray(currentClasses[i],potentialColors)!==-1){console.log('removing class:'+currentClasses[i]);$(this).removeClass(currentClasses[i]);}$(this).addClass(selectedColor);});}}};})(jQuery,Drupal,window,document);;
